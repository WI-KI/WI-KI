/*
 * Dup4.Editor.md
 *
 * @file        editormd.js 
 * @version     v2.0.0 
 * @description Open source online markdown editor.
 * @license     MIT License
 * @author      Dup4
 * {@link       https://gitee.com/Dup4/Dup4.editor.md}
 * @updateTime  2020-07-29
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).marked=t()}(this,(function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(e,t){return function(e){e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1,imageLazyLoad:!1,imageLazyLoadLoadingICON:""},getDefaults:function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1,imageLazyLoad:!1,imageLazyLoadLoadingICON:""}},changeDefaults:function(t){e.exports.defaults=t}}}(t={exports:{}}),t.exports}(),i=(t.defaults,t.getDefaults,t.changeDefaults,/[&<>"']/),n=/[&<>"']/g,r=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s=function(e){return o[e]},l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function c(e){return e.replace(l,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var h=/(^|[^\[])\^/g,d=/[^\w:]/g,u=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,p={},f=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,m=/^([^:]+:\/*[^/]*)[\s\S]*$/;function A(e,t,i){var n=e.length;if(0===n)return"";for(var r=0;r<n;){var a=e.charAt(n-r-1);if(a!==t||i){if(a===t||!i)break;r++}else r++}return e.substr(0,n-r)}var v=function(e,t){if(t){if(i.test(e))return e.replace(n,s)}else if(r.test(e))return e.replace(a,s);return e},w=c,b=function(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k=A,y=t.defaults,x=k,C=function(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,r=t;--r>=0&&"\\"===i[r];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i},S=v,L=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,r=0;r<i;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1};function T(e,t,i){var n=t.href,r=t.title?S(t.title):null;return"!"!==e[0].charAt(0)?{type:"link",raw:i,href:n,title:r,text:e[1]}:{type:"image",raw:i,text:S(e[1]),href:n,title:r}}var M=function(){function e(e){this.options=e||y}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e,t){var i=this.rules.block.code.exec(e);if(i){var n=t[t.length-1];if(n&&"paragraph"===n.type)return{raw:i[0],text:i[0].trimRight()};var r=i[0].replace(/^ {4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?r:x(r,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=function(e,t){var i=e.match(/^(\s+)(?:```)/);if(null===i)return t;var n=i[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var i={type:"table",header:C(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(i.header.length===i.align.length){var n,r=i.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(r=i.cells.length,n=0;n<r;n++)i.cells[n]=C(i.cells[n],i.header.length);return i}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:i}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){for(var i,n,r,a,o,s,l,c=t[0],h=t[2],d=h.length>1,u={type:"list",raw:c,ordered:d,start:d?+h:"",loose:!1,items:[]},p=t[0].match(this.rules.block.item),f=!1,g=p.length,m=0;m<g;m++)c=i=p[m],n=i.length,~(i=i.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(n-=i.length,i=this.options.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+n+"}","gm"),"")),m!==g-1&&(r=this.rules.block.bullet.exec(p[m+1])[0],(h.length>1?1===r.length:r.length>1||this.options.smartLists&&r!==h)&&(a=p.slice(m+1).join("\n"),u.raw=u.raw.substring(0,u.raw.length-a.length),m=g-1)),o=f||/\n\n(?!\s*$)/.test(i),m!==g-1&&(f="\n"===i.charAt(i.length-1),o||(o=f)),o&&(u.loose=!0),l=void 0,(s=/^\[[ xX]\] /.test(i))&&(l=" "!==i[1],i=i.replace(/^\[[ xX]\] +/,"")),u.items.push({raw:c,task:s,checked:l,loose:o,text:i});return u}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):S(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:C(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var n,r=i.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(r=i.cells.length,n=0;n<r;n++)i.cells[n]=C(i.cells[n].replace(/^ *\| *| *\| *$/g,""),i.header.length);return i}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e,t){var i=this.rules.block.text.exec(e);if(i){var n=t[t.length-1];return n&&"text"===n.type?{raw:i[0],text:i[0]}:{type:"text",raw:i[0],text:i[0]}}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:S(t[1])}},t.tag=function(e,t,i){var n=this.rules.inline.tag.exec(e);if(n)return!t&&/^<a /i.test(n[0])?t=!0:t&&/^<\/a>/i.test(n[0])&&(t=!1),!i&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?i=!0:i&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(i=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:t,inRawBlock:i,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):S(n[0]):n[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=L(t[2],"()");if(i>-1){var n=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,n).trim(),t[3]=""}var r=t[2],a="";if(this.options.pedantic){var o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o?(r=o[1],a=o[3]):a=""}else a=t[3]?t[3].slice(1,-1):"";return T(t,{href:(r=r.trim().replace(/^<([\s\S]*)>$/,"$1"))?r.replace(this.rules.inline._escapes,"$1"):r,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var n=(i[2]||i[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return T(i,n,i[0])}},t.strong=function(e){var t=this.rules.inline.strong.exec(e);if(t)return{type:"strong",raw:t[0],text:t[4]||t[3]||t[2]||t[1]}},t.em=function(e){var t=this.rules.inline.em.exec(e);if(t)return{type:"em",raw:t[0],text:t[6]||t[5]||t[4]||t[3]||t[2]||t[1]}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),r=i.startsWith(" ")&&i.endsWith(" ");return n&&r&&(i=i.substring(1,i.length-1)),i=S(i,!0),{type:"codespan",raw:t[0],text:i}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}},t.autolink=function(e,t){var i,n,r=this.rules.inline.autolink.exec(e);if(r)return n="@"===r[2]?"mailto:"+(i=S(this.options.mangle?t(r[1]):r[1])):i=S(r[1]),{type:"link",raw:r[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}},t.url=function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var n,r;if("@"===i[2])r="mailto:"+(n=S(this.options.mangle?t(i[0]):i[0]));else{var a;do{a=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(a!==i[0]);n=S(i[0]),r="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}},t.inlineText=function(e,t,i){var n,r=this.rules.inline.text.exec(e);if(r)return n=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):S(r[0]):r[0]:S(this.options.smartypants?i(r[0]):r[0]),{type:"text",raw:r[0],text:n}},e}(),D={exec:function(){}},E=function(e,t){e=e.source||e,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(h,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i},I=b,z={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:D,table:D,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};z.def=E(z.def).replace("label",z._label).replace("title",z._title).getRegex(),z.bullet=/(?:[*+-]|\d{1,9}\.)/,z.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,z.item=E(z.item,"gm").replace(/bull/g,z.bullet).getRegex(),z.list=E(z.list).replace(/bull/g,z.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+z.def.source+")").getRegex(),z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",z._comment=/<!--(?!-?>)[\s\S]*?-->/,z.html=E(z.html,"i").replace("comment",z._comment).replace("tag",z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),z.paragraph=E(z._paragraph).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",z._tag).getRegex(),z.blockquote=E(z.blockquote).replace("paragraph",z.paragraph).getRegex(),z.normal=I({},z),z.gfm=I({},z.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),z.gfm.nptable=E(z.gfm.nptable).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",z._tag).getRegex(),z.gfm.table=E(z.gfm.table).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",z._tag).getRegex(),z.pedantic=I({},z.normal,{html:E("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:D,paragraph:E(z.normal._paragraph).replace("hr",z.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",z.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var j={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:D,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:D,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};j.em=E(j.em).replace(/punctuation/g,j._punctuation).getRegex(),j._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,j._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,j._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,j.autolink=E(j.autolink).replace("scheme",j._scheme).replace("email",j._email).getRegex(),j._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,j.tag=E(j.tag).replace("comment",z._comment).replace("attribute",j._attribute).getRegex(),j._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,j._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,j._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,j.link=E(j.link).replace("label",j._label).replace("href",j._href).replace("title",j._title).getRegex(),j.reflink=E(j.reflink).replace("label",j._label).getRegex(),j.normal=I({},j),j.pedantic=I({},j.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:E(/^!?\[(label)\]\((.*?)\)/).replace("label",j._label).getRegex(),reflink:E(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",j._label).getRegex()}),j.gfm=I({},j.normal,{escape:E(j.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),j.gfm.url=E(j.gfm.url,"i").replace("email",j.gfm._extended_email).getRegex(),j.breaks=I({},j.gfm,{br:E(j.br).replace("{2,}","*").getRegex(),text:E(j.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var P={block:z,inline:j},N=t.defaults,B=P.block,R=P.inline;function H(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Q(e){var t,i,n="",r=e.length;for(t=0;t<r;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}var q=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||N,this.options.tokenizer=this.options.tokenizer||new M,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:B.normal,inline:R.normal};this.options.pedantic?(t.block=B.pedantic,t.inline=R.pedantic):this.options.gfm&&(t.block=B.gfm,this.options.breaks?t.inline=R.breaks:t.inline=R.gfm),this.tokenizer.rules=t}t.lex=function(e,i){return new t(i).lex(e)};var i,n,r=t.prototype;return r.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0,0),this.inline(this.tokens),this.tokens},r.blockTokens=function(e,t,i,n){var r,a,o,s;void 0===t&&(t=[]),void 0===i&&(i=!0),e=e.replace(/^ +$/gm,"");for(var l=n,c=0;e;)if(l+=c,r=this.tokenizer.space(e))e=e.substring(r.raw.length),l+=r.raw.length,r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.type?t.push(r):((s=t[t.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.tokens=this.blockTokens(r.text,[],i,l),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,o=r.items.length,a=0;a<o;a++)r.items[a].tokens=this.blockTokens(r.items[a].text,[],!1,l);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(i&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(i&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.type?t.push(r):((s=t[t.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}return t},r.inline=function(e){var t,i,n,r,a,o,s=e.length;for(t=0;t<s;t++)switch((o=e[t]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},r=o.header.length,i=0;i<r;i++)o.tokens.header[i]=[],this.inlineTokens(o.header[i],o.tokens.header[i]);for(r=o.cells.length,i=0;i<r;i++)for(a=o.cells[i],o.tokens.cells[i]=[],n=0;n<a.length;n++)o.tokens.cells[i][n]=[],this.inlineTokens(a[n],o.tokens.cells[i][n]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(r=o.items.length,i=0;i<r;i++)this.inline(o.items[i].tokens)}return e},r.inlineTokens=function(e,t,i,n){var r;for(void 0===t&&(t=[]),void 0===i&&(i=!1),void 0===n&&(n=!1);e;)if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,i,n))e=e.substring(r.raw.length),i=r.inLink,n=r.inRawBlock,t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,n)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,n)),t.push(r);else if(r=this.tokenizer.strong(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],i,n),t.push(r);else if(r=this.tokenizer.em(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],i,n),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],i,n),t.push(r);else if(r=this.tokenizer.autolink(e,Q))e=e.substring(r.raw.length),t.push(r);else if(i||!(r=this.tokenizer.url(e,Q))){if(r=this.tokenizer.inlineText(e,n,H))e=e.substring(r.raw.length),t.push(r);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}else e=e.substring(r.raw.length),t.push(r);return t},i=t,n=[{key:"rules",get:function(){return{block:B,inline:R}}}],null&&e(i.prototype,null),n&&e(i,n),t}(),F=t.defaults,O=function(e,t,i){if(e){var n;try{n=decodeURIComponent(c(i)).replace(d,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!u.test(i)&&(i=function(e,t){p[" "+e]||(f.test(e)?p[" "+e]=e+"/":p[" "+e]=A(e,"/",!0));var i=-1===(e=p[" "+e]).indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(g,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(m,"$1")+t:e+t}(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(e){return null}return i},_=v,U=function(){function e(e){this.options=e||F}var t=e.prototype;return t.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,n);null!=r&&r!==e&&(i=!0,e=r)}return n?'<pre><code class="'+this.options.langPrefix+_(n,!0)+'">'+(i?e:_(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:_(e,!0))+"</code></pre>"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,i){if(null===(e=O(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+_(e)+'"';return t&&(n+=' title="'+t+'"'),n+">"+i+"</a>"},t.image=function(e,t,i){if(null===(e=O(this.options.sanitize,this.options.baseUrl,e)))return i;""==i.trim()&&(i="图片加载中...");var n='<img src="'+e+'" alt="'+i+'"';return!0===this.options.imageLazyLoad&&(n='<img class="lazyload markdown-img" src="data:image/gif;base64,'+this.options.imageLazyLoadLoadingICON+'" data-src="'+e+'" alt="图片加载中..." '),t?(n+=' title="'+t+'"',n+=' style="border:.3em solid #e0dfcc; border-radius:1em; -webkit-border-radius:1em; -moz-border-radius: 1em;" ',n+=this.options.xhtml?"/>":">",n='<div style="display:flex; flex-flow: column; align-items:center; justify-content:center;">'+(n+='<div style="color:orange; border-bottom:1px solid #d9d9d9;display:inline-block;color:#999;padding:2px;">'+t+"</div>")+"</div>"):n+=this.options.xhtml?"/>":">",n},t.text=function(e){return e},e}(),K=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),Z=function(){function e(){this.seen={}}return e.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var i=t;do{this.seen[i]++,t=i+"-"+this.seen[i]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},e}(),G=t.defaults,V=w,W=function(){function e(e){this.options=e||G,this.options.renderer=this.options.renderer||new U,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new K,this.slugger=new Z}e.parse=function(t,i){return new e(i).parse(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var i,n,r,a,o,s,l,c,h,d,u,p,f,g,m,A,v,w="",b=e.length;for(i=0;i<b;i++)switch((d=e[i]).type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(d.tokens),d.depth,V(this.parseInline(d.tokens,this.textRenderer)),d.line);continue;case"code":w+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",a=d.header.length,n=0;n<a;n++)l+=this.renderer.tablecell(this.parseInline(d.tokens.header[n]),{header:!0,align:d.align[n]});for(c+=this.renderer.tablerow(l),h="",a=d.cells.length,n=0;n<a;n++){for(l="",o=(s=d.tokens.cells[n]).length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(s[r]),{header:!1,align:d.align[r]});h+=this.renderer.tablerow(l)}w+=this.renderer.table(c,h,d.line);continue;case"blockquote":h=this.parse(d.tokens),w+=this.renderer.blockquote(h);continue;case"list":for(u=d.ordered,d.start,p=d.loose,a=d.items.length,h="",n=0;n<a;n++)m=(g=d.items[n]).checked,A=g.task,f="",g.task&&(v=this.renderer.checkbox(m),p?"text"===g.tokens[0].type?(g.tokens[0].text=v+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=v+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:v}):f+=v),f+=this.parse(g.tokens,p),h+=this.renderer.listitem(f,A,m);w+=this.renderer.list(h,u,d.line);continue;case"html":w+=this.renderer.html(d.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(d.tokens),d.line);continue;case"text":for(h=d.tokens?this.parseInline(d.tokens):d.text;i+1<b&&"text"===e[i+1].type;)h+="\n"+((d=e[++i]).tokens?this.parseInline(d.tokens):d.text);w+=t?this.renderer.paragraph(h):h;continue;default:var k='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}return w},t.parseInline=function(e,t){t=t||this.renderer;var i,n,r="",a=e.length;for(i=0;i<a;i++)switch((n=e[i]).type){case"escape":r+=t.text(n.text);break;case"html":r+=t.html(n.text);break;case"link":r+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":r+=t.image(n.href,n.title,n.text);break;case"strong":r+=t.strong(this.parseInline(n.tokens,t));break;case"em":r+=t.em(this.parseInline(n.tokens,t));break;case"codespan":r+=t.codespan(n.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(n.tokens,t));break;case"text":r+=t.text(n.text);break;default:var o='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}return r},e}(),$=b,J=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},X=v,Y=t.getDefaults,ee=t.changeDefaults,te=t.defaults;function ie(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof t){var n=function(){i||(i=t,t=null),t=$({},ie.defaults,t||{}),J(t);var n,r,a=t.highlight,o=0;try{n=q.lex(e,t)}catch(e){return{v:i(e)}}r=n.length;var s=function(e){if(e)return t.highlight=a,i(e);var r;try{r=W.parse(n,t)}catch(t){e=t}return t.highlight=a,e?i(e):i(null,r)};if(!a||a.length<3)return{v:s()};if(delete t.highlight,!r)return{v:s()};for(;o<n.length;o++)!function(e){"code"!==e.type?--r||s():a(e.text,e.lang,(function(t,i){return t?s(t):null==i||i===e.text?--r||s():(e.text=i,e.escaped=!0,void(--r||s()))}))}(n[o]);return{v:void 0}}();if("object"==typeof n)return n.v}try{return t=$({},ie.defaults,t||{}),J(t),W.parse(q.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||ie.defaults).silent)return"<p>An error occurred:</p><pre>"+X(e.message+"",!0)+"</pre>";throw e}}return ie.options=ie.setOptions=function(e){return $(ie.defaults,e),ee(ie.defaults),ie},ie.getDefaults=Y,ie.defaults=te,ie.use=function(e){var t=$({},e);e.renderer&&function(){var i=ie.defaults.renderer||new U,n=function(t){var n=i[t];i[t]=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=e.renderer[t].apply(i,a);return!1===s&&(s=n.apply(i,a)),s}};for(var r in e.renderer)n(r);t.renderer=i}(),e.tokenizer&&function(){var i=ie.defaults.tokenizer||new M,n=function(t){var n=i[t];i[t]=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=e.tokenizer[t].apply(i,a);return!1===s&&(s=n.apply(i,a)),s}};for(var r in e.tokenizer)n(r);t.tokenizer=i}(),ie.setOptions(t)},ie.Parser=W,ie.parser=W.parse,ie.Renderer=U,ie.TextRenderer=K,ie.Lexer=q,ie.lexer=q.lex,ie.Tokenizer=M,ie.Slugger=Z,ie.parse=ie,ie}));var prettyPrintOne,prettyPrint,IN_GLOBAL_SCOPE=!0;window.PR_SHOULD_USE_CONTINUATION=!0,function(){var e=window,t=["break,continue,do,else,for,if,return,while"],i=[[t,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],n=[i,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],r=[i,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],a=[r,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],o=[i,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],s="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",l=[t,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],c=[t,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],h=[t,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],d=[t,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],u=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,p="str",f="com",g="typ",m="lit",A="pun",v="pln",w="atv";function b(e,t,i,n){if(t){var r={sourceCode:t,basePos:e};i(r),n.push.apply(n,r.decorations)}}var k=/\S/;function y(e){for(var t=void 0,i=e.firstChild;i;i=i.nextSibling){var n=i.nodeType;t=1===n?t?e:i:3===n&&k.test(i.nodeValue)?e:t}return t===e?void 0:t}function x(e,t){var i,n={};!function(){for(var r=e.concat(t),a=[],o={},s=0,l=r.length;s<l;++s){var c=r[s],h=c[3];if(h)for(var d=h.length;--d>=0;)n[h.charAt(d)]=c;var u=c[1],p=""+u;o.hasOwnProperty(p)||(a.push(u),o[p]=null)}a.push(/[\0-\uffff]/),i=function(e){for(var t=0,i=!1,n=!1,r=0,a=e.length;r<a;++r){if((u=e[r]).ignoreCase)n=!0;else if(/[a-z]/i.test(u.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){i=!0,n=!1;break}}var o={b:8,t:9,n:10,v:11,f:12,r:13};function s(e){var t=e.charCodeAt(0);if(92!==t)return t;var i=e.charAt(1);return(t=o[i])||("0"<=i&&i<="7"?parseInt(e.substring(1),8):"u"===i||"x"===i?parseInt(e.substring(2),16):e.charCodeAt(1))}function l(e){if(e<32)return(e<16?"\\x0":"\\x")+e.toString(16);var t=String.fromCharCode(e);return"\\"===t||"-"===t||"]"===t||"^"===t?"\\"+t:t}function c(e){var t=e.substring(1,e.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),i=[],n="^"===t[0],r=["["];n&&r.push("^");for(var a=n?1:0,o=t.length;a<o;++a){var c=t[a];if(/\\[bdsw]/i.test(c))r.push(c);else{var h,d=s(c);a+2<o&&"-"===t[a+1]?(h=s(t[a+2]),a+=2):h=d,i.push([d,h]),h<65||d>122||(h<65||d>90||i.push([32|Math.max(65,d),32|Math.min(h,90)]),h<97||d>122||i.push([-33&Math.max(97,d),-33&Math.min(h,122)]))}}i.sort((function(e,t){return e[0]-t[0]||t[1]-e[1]}));var u=[],p=[];for(a=0;a<i.length;++a){(f=i[a])[0]<=p[1]+1?p[1]=Math.max(p[1],f[1]):u.push(p=f)}for(a=0;a<u.length;++a){var f=u[a];r.push(l(f[0])),f[1]>f[0]&&(f[1]+1>f[0]&&r.push("-"),r.push(l(f[1])))}return r.push("]"),r.join("")}function h(e){for(var n=e.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),r=n.length,a=[],o=0,s=0;o<r;++o){if("("===(d=n[o]))++s;else if("\\"===d.charAt(0))(h=+d.substring(1))&&(h<=s?a[h]=-1:n[o]=l(h))}for(o=1;o<a.length;++o)-1===a[o]&&(a[o]=++t);for(o=0,s=0;o<r;++o){var h;if("("===(d=n[o]))a[++s]||(n[o]="(?:");else if("\\"===d.charAt(0))(h=+d.substring(1))&&h<=s&&(n[o]="\\"+a[h])}for(o=0;o<r;++o)"^"===n[o]&&"^"!==n[o+1]&&(n[o]="");if(e.ignoreCase&&i)for(o=0;o<r;++o){var d,u=(d=n[o]).charAt(0);d.length>=2&&"["===u?n[o]=c(d):"\\"!==u&&(n[o]=d.replace(/[a-zA-Z]/g,(function(e){var t=e.charCodeAt(0);return"["+String.fromCharCode(-33&t,32|t)+"]"})))}return n.join("")}var d=[];for(r=0,a=e.length;r<a;++r){var u;if((u=e[r]).global||u.multiline)throw new Error(""+u);d.push("(?:"+h(u)+")")}return new RegExp(d.join("|"),n?"gi":"g")}(a)}();var r=t.length,a=function(e){for(var o=e.sourceCode,s=e.basePos,l=[s,v],c=0,h=o.match(i)||[],d={},u=0,p=h.length;u<p;++u){var f,g=h[u],m=d[g],A=void 0;if("string"==typeof m)f=!1;else{var w=n[g.charAt(0)];if(w)A=g.match(w[1]),m=w[0];else{for(var k=0;k<r;++k)if(w=t[k],A=g.match(w[1])){m=w[0];break}A||(m=v)}!(f=m.length>=5&&"lang-"===m.substring(0,5))||A&&"string"==typeof A[1]||(f=!1,m="src"),f||(d[g]=m)}var y=c;if(c+=g.length,f){var x=A[1],C=g.indexOf(x),S=C+x.length;A[2]&&(C=(S=g.length-A[2].length)-x.length);var L=m.substring(5);b(s+y,g.substring(0,C),a,l),b(s+y+C,x,D(L,x),l),b(s+y+S,g.substring(S),a,l)}else l.push(s+y,m)}e.decorations=l};return a}function C(e){var t=[],i=[];e.tripleQuotedStrings?t.push([p,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]):e.multiLineStrings?t.push([p,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):t.push([p,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),e.verbatimStrings&&i.push([p,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var n=e.hashComments;n&&(e.cStyleComments?(n>1?t.push([f,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):t.push([f,/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),i.push([p,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):t.push([f,/^#[^\r\n]*/,null,"#"])),e.cStyleComments&&(i.push([f,/^\/\/[^\r\n]*/,null]),i.push([f,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));var r=e.regexLiterals;if(r){var a=r>1?"":"\n\r",o=a?".":"[\\S\\s]",s="/(?=[^/*"+a+"])(?:[^/\\x5B\\x5C"+a+"]|\\x5C"+o+"|\\x5B(?:[^\\x5C\\x5D"+a+"]|\\x5C"+o+")*(?:\\x5D|$))+/";i.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*("+s+")")])}var l=e.types;l&&i.push([g,l]);var c=(""+e.keywords).replace(/^ | $/g,"");c.length&&i.push(["kwd",new RegExp("^(?:"+c.replace(/[\s,]+/g,"|")+")\\b"),null]),t.push([v,/^\s+/,null," \r\n\t "]);var h="^.[^\\s\\w.$@'\"`/\\\\]*";return e.regexLiterals&&(h+="(?!s*/)"),i.push([m,/^@[a-z_$][a-z_$@0-9]*/i,null],[g,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[v,/^[a-z_$][a-z_$@0-9]*/i,null],[m,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[v,/^\\[\s\S]?/,null],[A,new RegExp(h),null]),x(t,i)}var S=C({keywords:[n,a,o,s,l,c,d],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0});function L(e,t,i){for(var n=/(?:^|\s)nocode(?:\s|$)/,r=/\r\n?|\n/,a=e.ownerDocument,o=a.createElement("li");e.firstChild;)o.appendChild(e.firstChild);var s=[o];function l(e){var t=e.nodeType;if(1!=t||n.test(e.className)){if((3==t||4==t)&&i){var o=e.nodeValue,s=o.match(r);if(s){var h=o.substring(0,s.index);e.nodeValue=h;var d=o.substring(s.index+s[0].length);if(d)e.parentNode.insertBefore(a.createTextNode(d),e.nextSibling);c(e),h||e.parentNode.removeChild(e)}}}else if("br"===e.nodeName)c(e),e.parentNode&&e.parentNode.removeChild(e);else for(var u=e.firstChild;u;u=u.nextSibling)l(u)}function c(e){for(;!e.nextSibling;)if(!(e=e.parentNode))return;for(var t,i=function e(t,i){var n=i?t.cloneNode(!1):t,r=t.parentNode;if(r){var a=e(r,1),o=t.nextSibling;a.appendChild(n);for(var s=o;s;s=o)o=s.nextSibling,a.appendChild(s)}return n}(e.nextSibling,0);(t=i.parentNode)&&1===t.nodeType;)i=t;s.push(i)}for(var h=0;h<s.length;++h)l(s[h]);t===(0|t)&&s[0].setAttribute("value",t);var d=a.createElement("ol");d.className="linenums";for(var u=Math.max(0,t-1|0)||0,p=(h=0,s.length);h<p;++h)(o=s[h]).className="L"+(h+u)%10,o.firstChild||o.appendChild(a.createTextNode(" ")),d.appendChild(o);e.appendChild(d)}var T={};function M(t,i){for(var n=i.length;--n>=0;){var r=i[n];T.hasOwnProperty(r)?e.console&&console.warn("cannot override language handler %s",r):T[r]=t}}function D(e,t){return e&&T.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),T[e]}function E(t){var i=t.langExtension;try{var n=function(e,t){var i=/(?:^|\s)nocode(?:\s|$)/,n=[],r=0,a=[],o=0;return function e(s){var l=s.nodeType;if(1==l){if(i.test(s.className))return;for(var c=s.firstChild;c;c=c.nextSibling)e(c);var h=s.nodeName.toLowerCase();"br"!==h&&"li"!==h||(n[o]="\n",a[o<<1]=r++,a[o++<<1|1]=s)}else if(3==l||4==l){var d=s.nodeValue;d.length&&(d=t?d.replace(/\r\n?/g,"\n"):d.replace(/[ \t\r\n]+/g," "),n[o]=d,a[o<<1]=r,r+=d.length,a[o++<<1|1]=s)}}(e),{sourceCode:n.join("").replace(/\n$/,""),spans:a}}(t.sourceNode,t.pre),r=n.sourceCode;t.sourceCode=r,t.spans=n.spans,t.basePos=0,D(i,r)(t),function(e){var t=/\bMSIE\s(\d+)/.exec(navigator.userAgent);t=t&&+t[1]<=8;var i,n,r=/\n/g,a=e.sourceCode,o=a.length,s=0,l=e.spans,c=l.length,h=0,d=e.decorations,u=d.length,p=0;for(d[u]=o,n=i=0;n<u;)d[n]!==d[n+2]?(d[i++]=d[n++],d[i++]=d[n++]):n+=2;for(u=i,n=i=0;n<u;){for(var f=d[n],g=d[n+1],m=n+2;m+2<=u&&d[m+1]===g;)m+=2;d[i++]=f,d[i++]=g,n=m}u=d.length=i;var A,v=e.sourceNode;v&&(A=v.style.display,v.style.display="none");try{for(;h<c;){l[h];var w,b=l[h+2]||o,k=d[p+2]||o,y=(m=Math.min(b,k),l[h+1]);if(1!==y.nodeType&&(w=a.substring(s,m))){t&&(w=w.replace(r,"\r")),y.nodeValue=w;var x=y.ownerDocument,C=x.createElement("span");C.className=d[p+1];var S=y.parentNode;S.replaceChild(C,y),C.appendChild(y),s<b&&(l[h+1]=y=x.createTextNode(a.substring(m,b)),S.insertBefore(y,C.nextSibling))}(s=m)>=b&&(h+=2),s>=k&&(p+=2)}}finally{v&&(v.style.display=A)}}(t)}catch(t){e.console&&console.log(t&&t.stack||t)}}function I(e,t,i){var n=document.createElement("div");return n.innerHTML="<pre>"+e+"</pre>",n=n.firstChild,i&&L(n,i,!0),E({langExtension:t,numberLines:i,sourceNode:n,pre:1}),n.innerHTML}function z(t,i){var n=i||document.body,r=n.ownerDocument||document;function a(e){return n.getElementsByTagName(e)}for(var o=[a("pre"),a("code"),a("xmp")],s=[],l=0;l<o.length;++l)for(var c=0,h=o[l].length;c<h;++c)s.push(o[l][c]);o=null;var d=Date;d.now||(d={now:function(){return+new Date}});var u=0,p=/\blang(?:uage)?-([\w.]+)(?!\S)/,f=/\bprettyprint\b/,g=/\bprettyprinted\b/,m=/pre|xmp/i,A=/^code$/i,v=/^(?:pre|code|xmp)$/i,w={};!function i(){for(var n=e.PR_SHOULD_USE_CONTINUATION?d.now()+250:1/0;u<s.length&&d.now()<n;u++){for(var a=s[u],o=w,l=a;l=l.previousSibling;){var c=l.nodeType,h=(7===c||8===c)&&l.nodeValue;if(h?!/^\??prettify\b/.test(h):3!==c||/\S/.test(l.nodeValue))break;if(h){o={},h.replace(/\b(\w+)=([\w:.%+-]+)/g,(function(e,t,i){o[t]=i}));break}}var b=a.className;if((o!==w||f.test(b))&&!g.test(b)){for(var k=!1,x=a.parentNode;x;x=x.parentNode){var C=x.tagName;if(v.test(C)&&x.className&&f.test(x.className)){k=!0;break}}if(!k){a.className+=" prettyprinted";var S,T,M=o.lang;if(!M)!(M=b.match(p))&&(S=y(a))&&A.test(S.tagName)&&(M=S.className.match(p)),M&&(M=M[1]);if(m.test(a.tagName))T=1;else{var D=a.currentStyle,I=r.defaultView,z=D?D.whiteSpace:I&&I.getComputedStyle?I.getComputedStyle(a,null).getPropertyValue("white-space"):0;T=z&&"pre"===z.substring(0,3)}var j=o.linenums;(j="true"===j||+j)||(j=!!(j=b.match(/\blinenums\b(?::(\d+))?/))&&(!j[1]||!j[1].length||+j[1])),j&&L(a,j,T),E({langExtension:M,sourceNode:a,numberLines:j,pre:T})}}}u<s.length?setTimeout(i,250):"function"==typeof t&&t()}()}M(S,["default-code"]),M(x([],[[v,/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],[f,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[A,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),M(x([[v,/^[\s]+/,null," \t\r\n"],[w,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[A,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),M(x([],[[w,/^[\s\S]+/]]),["uq.val"]),M(C({keywords:n,hashComments:!0,cStyleComments:!0,types:u}),["c","cc","cpp","cxx","cyc","m"]),M(C({keywords:"null,true,false"}),["json"]),M(C({keywords:a,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:u}),["cs"]),M(C({keywords:r,cStyleComments:!0}),["java"]),M(C({keywords:d,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),M(C({keywords:l,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),M(C({keywords:s,hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),M(C({keywords:c,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),M(C({keywords:o,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),M(C({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),M(C({keywords:h,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),M(x([],[[p,/^[\s\S]+/]]),["regex"]);var j=e.PR={createSimpleLexer:x,registerLangHandler:M,sourceDecorator:C,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:w,PR_COMMENT:f,PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:m,PR_NOCODE:"nocode",PR_PLAIN:v,PR_PUNCTUATION:A,PR_SOURCE:"src",PR_STRING:p,PR_TAG:"tag",PR_TYPE:g,prettyPrintOne:IN_GLOBAL_SCOPE?e.prettyPrintOne=I:prettyPrintOne=I,prettyPrint:prettyPrint=IN_GLOBAL_SCOPE?e.prettyPrint=z:prettyPrint=z};"function"==typeof define&&define.amd&&define("google-code-prettify",[],(function(){return j}))}(),function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=e:"function"==typeof define?define.amd||define(["jquery"],e):window.editormd=e()}((function(){"use strict";var e="undefined"!=typeof jQuery?jQuery:Zepto;if(void 0!==e){var t=function(e,i){return new t.fn.init(e,i)};t.title=t.$name="Editor.md",t.version="2.0.0",t.homePage="https://pandao.github.io/editor.md/",t.classPrefix="editormd-",t.toolbarModes={full:["undo","redo","|","bold","del","italic","quote","ucwords","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","reference-link","image","file","code","preformatted-text","code-block","table","datetime","emoji","html-entities","pagebreak","|","goto-line","watch","preview","fullscreen","clear","|","help","info","options"],simple:["undo","redo","|","bold","del","italic","quote","table","image","file","|","watch","preview","fullscreen","|","extend_html","help","options"],mini:["undo","redo","|","image","preview","help","options"]},t.defaults={mode:"gfm",name:"",value:"",theme:"",editorTheme:"default",previewTheme:"",markdown:"",appendMarkdown:"",width:"100%",height:"100%",path:"./lib/",pluginPath:"",delay:3e3,autoLoadModules:!0,watch:!1,placeholder:"Enjoy Markdown! use $e^x$ in Latex.",gotoLine:!0,codeFold:!0,autoHeight:!1,autoFocus:!1,autoCloseTags:!1,searchReplace:!0,syncScrolling:"single",readOnly:!1,tabSize:4,indentUnit:4,lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,showTrailingSpace:!0,matchBrackets:!0,indentWithTabs:!0,styleSelectedText:!0,matchWordHighlight:!0,styleActiveLine:!0,dialogLockScreen:!1,dialogShowMask:!0,dialogDraggable:!0,dialogMaskBgColor:"#fff",dialogMaskOpacity:.1,fontSize:"14px",saveHTMLToTextarea:!0,disabledKeyMaps:[],keymapMode:"default",onload:function(){},onresize:function(){},onchange:function(){},onwatch:null,onunwatch:null,onpreviewing:function(){},onpreviewed:function(){},onfullscreen:function(){},onfullscreenExit:function(){},onscroll:function(){},onpreviewscroll:function(){},imageUpload:!1,fileUpload:!1,imageFormats:["jpg","jpeg","gif","png"],uploadURL:"",uploadToken:"",crossDomainUpload:!1,uploadCallbackURL:"",imageLazyLoad:!1,imageLazyLoadLoadingICON:"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",toc:!0,tocm:!1,tocTitle:"",tocDropdown:!1,tocContainer:"",tocStartLevel:1,htmlDecode:"style,script,iframe",pageBreak:!1,atLink:!1,emailLink:!0,taskList:!0,emoji:!1,tex:!0,texHostUrl:"",texTargetUrl:"",flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0,toolbar:!0,toolbarAutoFixed:!1,toolbarIcons:"simple",toolbarTitles:{},toolbarHandlers:{ucwords:function(){return t.toolbarHandlers.ucwords},lowercase:function(){return t.toolbarHandlers.lowercase}},toolbarCustomIcons:{lowercase:'<a href="javascript:;" title="Lowercase" unselectable="on"><i class="fa" name="lowercase" style="font-size:24px;margin-top: -10px;">a</i></a>',ucwords:'<a href="javascript:;" title="ucwords" unselectable="on"><i class="fa" name="ucwords" style="font-size:20px;margin-top: -3px;">Aa</i></a>'},toolbarIconsClass:{undo:"fa-undo",redo:"fa-repeat",bold:"fa-bold",del:"fa-strikethrough",italic:"fa-italic",quote:"fa-quote-left",uppercase:"fa-font",h1:t.classPrefix+"bold",h2:t.classPrefix+"bold",h3:t.classPrefix+"bold",h4:t.classPrefix+"bold",h5:t.classPrefix+"bold",h6:t.classPrefix+"bold","list-ul":"fa-list-ul","list-ol":"fa-list-ol",hr:"fa-minus",link:"fa-link","reference-link":"fa-anchor",image:"fa-picture-o",file:"fa-upload",code:"fa-code","preformatted-text":"fa-file-code-o","code-block":"fa-file-code-o",table:"fa-table",datetime:"fa-clock-o",emoji:"fa-smile-o","html-entities":"fa-copyright",pagebreak:"fa-newspaper-o","goto-line":"fa-terminal",watch:"fa-eye-slash",unwatch:"fa-eye",preview:"fa-desktop",search:"fa-search",fullscreen:"fa-arrows-alt",clear:"fa-eraser",help:"fa-question-circle",info:"fa-info-circle",options:"fa-gear",extend_html:"fa-th-large"},toolbarIconTexts:{},lang:{name:"zh-cn",description:"开源在线Markdown编辑器<br/>Open source online Markdown editor.",tocTitle:"目录",toolbar:{undo:"撤销（Ctrl+Z）",redo:"重做（Ctrl+Y）",bold:"粗体",del:"删除线",italic:"斜体",quote:"引用",ucwords:"将每个单词首字母转成大写",uppercase:"将所选转换成大写",lowercase:"将所选转换成小写",h1:"标题1",h2:"标题2",h3:"标题3",h4:"标题4",h5:"标题5",h6:"标题6","list-ul":"无序列表","list-ol":"有序列表",hr:"横线",link:"链接","reference-link":"引用链接",image:"添加图片",file:"上传附件",code:"行内代码","preformatted-text":"预格式文本 / 代码块（缩进风格）","code-block":"代码块（多语言风格）",table:"添加表格",datetime:"日期时间",emoji:"Emoji表情","html-entities":"HTML实体字符",pagebreak:"插入分页符","goto-line":"跳转到行",watch:"关闭实时预览",unwatch:"开启实时预览",preview:"全窗口预览HTML",fullscreen:"全屏（按ESC还原）",clear:"清空",search:"搜索",help:"使用帮助",info:"关于"+t.title,options:"编辑器配置",extend_html:"扩展语法"},buttons:{enter:"确定",cancel:"取消",close:"关闭"},dialog:{link:{title:"添加链接",url:"链接地址",urlTitle:"链接标题",urlEmpty:"错误：请填写链接地址。"},referenceLink:{title:"添加引用链接",name:"引用名称",url:"链接地址",urlId:"链接ID",urlTitle:"链接标题",nameEmpty:"错误：引用链接的名称不能为空。",idEmpty:"错误：请填写引用链接的ID。",urlEmpty:"错误：请填写引用链接的URL地址。"},image:{title:"添加图片",url:"图片地址",link:"图片链接",alt:"图片描述",uploadButton:"本地上传",imageURLEmpty:"错误：图片地址不能为空。",uploadFileEmpty:"错误：上传的图片不能为空。",formatNotAllowed:"错误：只允许上传图片文件，允许上传的图片文件格式有：",imageOverSize:"错误：只允许上传16MB及以下的图片文件。"},file:{title:"上传附件",url:"附件地址",alt:"附件描述",uploadButton:"本地上传",fileURLEmpty:"错误：附件地址不能唯恐。",uploadFileEmpty:"错误：上传的附件不能唯恐。"},preformattedText:{title:"添加预格式文本或代码块",emptyAlert:"错误：请填写预格式文本或代码的内容。"},codeBlock:{title:"添加代码块",selectLabel:"代码语言：",selectDefaultText:"请选择代码语言",otherLanguage:"其他语言",unselectedLanguageAlert:"错误：请选择代码所属的语言类型。",codeEmptyAlert:"错误：请填写代码内容。"},htmlEntities:{title:"HTML 实体字符"},help:{title:"使用帮助"}}}},t.classNames={tex:t.classPrefix+"tex"},t.dialogZindex=99999,t.$katex=null,t.$marked=null,t.$CodeMirror=null,t.$prettyPrint=null;var i,n,r=500;t.prototype=t.fn={state:{watching:!1,loaded:!1,preview:!1,fullscreen:!1},init:function(i,n){n=n||{},"object"==typeof i&&(n=i);var r=this.classPrefix=t.classPrefix,a=this.settings=e.extend(!0,t.defaults,n);this.uploadImg=new Array,this.uploadFile=new Array,i="object"==typeof i?a.id:i;var o=this.editor=e("#"+i);this.id=i,this.lang=a.lang;var s=this.classNames={textarea:{html:r+"html-textarea",markdown:r+"markdown-textarea"}};a.pluginPath=""===a.pluginPath?a.path+"../plugins/":a.pluginPath,this.state.watching=!!a.watch,o.hasClass("editormd")||o.addClass("editormd"),o.css({width:"number"==typeof a.width?a.width+"px":a.width,height:"number"==typeof a.height?a.height+"px":a.height}),a.autoHeight&&o.css("height","auto");var l=this.markdownTextarea=o.children("textarea");l.length<1&&(o.append("<textarea></textarea>"),l=this.markdownTextarea=o.children("textarea")),l.addClass(s.textarea.markdown).attr("placeholder",a.placeholder),void 0!==l.attr("name")&&""!==l.attr("name")||l.attr("name",""!==a.name?a.name:i+"-markdown-doc");var c=[a.readOnly?"":'<a href="javascript:;" class="fa fa-close '+r+'preview-close-btn"></a>',a.saveHTMLToTextarea?'<textarea class="'+s.textarea.html+'" name="'+i+'-html-code"></textarea>':"",'<div class="'+r+'preview"><div class="markdown-body '+r+'preview-container"></div></div>','<div class="'+r+'container-mask" style="display:block;"></div>','<div class="'+r+'mask"></div>'].join("\n");o.append(c).addClass(r+"vertical"),""!==a.theme&&o.addClass(r+"theme-"+a.theme),this.mask=o.children("."+r+"mask"),this.containerMask=o.children("."+r+"container-mask"),""!==a.markdown&&l.val(a.markdown),""!==a.appendMarkdown&&l.val(l.val()+a.appendMarkdown),this.htmlTextarea=o.children("."+s.textarea.html),this.preview=o.children("."+r+"preview"),this.previewContainer=this.preview.children("."+r+"preview-container"),""!==a.previewTheme&&this.preview.addClass(r+"preview-theme-"+a.previewTheme),"function"==typeof define&&define.amd&&a.searchReplace&&!a.readOnly&&(t.loadCSS(a.path+"codemirror/addon/dialog/dialog"),t.loadCSS(a.path+"codemirror/addon/search/matchesonscrollbar")),"function"==typeof define&&define.amd||!a.autoLoadModules?("undefined"!=typeof CodeMirror&&(t.$CodeMirror=CodeMirror),"undefined"!=typeof marked&&(t.$marked=marked),this.setCodeMirror().setToolbar().loadedDisplay()):this.loadQueues();return function(t){var i=document.getElementById(t.id);if(i){var n=function(i){var n=i.type.split("/");n=n[n.length-1],-1!==e.inArray(n,t.settings.imageFormats)?a.imageUpload&&(t.uploadImg.push(i),t.executePlugin("imageDialog","image-dialog/image-dialog")):a.fileUpload&&(t.uploadFile.push(i),t.executePlugin("fileDialog","file-dialog/file-dialog"))};i.addEventListener("paste",(function(e){var t=(e.clipboardData||window.clipboardData).items,i=null;if(t&&t.length)for(var r=0;!i&&r<t.length;++r)i=t[r].getAsFile();i?n(i):console.log("当前浏览器不支持")}));var r=document.getElementById(t.id);r.addEventListener("dragover",(function(e){e.preventDefault(),e.stopPropagation()})),r.addEventListener("dragenter",(function(e){e.preventDefault(),e.stopPropagation()})),r.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation();var t=(this.files||e.dataTransfer.files)[0];t?n(t):console.log("当前浏览器不支持")}))}}(this),this},loadQueues:function(){var e=this,i=this.settings,n=i.path;return t.loadCSS(n+"codemirror/codemirror.min"),t.loadScript(n+"codemirror/codemirror.min",(function(){t.$CodeMirror=CodeMirror,t.loadScript(n+"../js/plugins.min",(function(){var r=function(){if(e.setCodeMirror(),"gfm"!==i.mode&&"markdown"!==i.mode)return e.loadedDisplay(),!1;e.setToolbar(),t.$marked=marked,e.loadedDisplay()};i.tex&&t.loadMathJax(n),"default"!==i.keymapMode?t.loadScript(n+"codemirror/keymap/"+i.keymapMode,(function(){r()})):r()}))})),this},setTheme:function(e){var t=this.editor,i=this.settings.theme,n=this.classPrefix+"theme-";return t.removeClass(n+i).addClass(n+e),this.settings.theme=e,this},setEditorTheme:function(e){var i=this.settings;return i.editorTheme=e,"default"!==e&&t.loadCSS(i.path+"codemirror/theme/"+i.editorTheme),this.cm.setOption("theme",e),this},setCodeMirrorTheme:function(e){return this.setEditorTheme(e),this},setPreviewTheme:function(e){var t=this.preview,i=this.settings.previewTheme,n=this.classPrefix+"preview-theme-";return t.removeClass(n+i).addClass(n+e),this.settings.previewTheme=e,this},setKeymapMode:function(e){var i=this,n=this.settings;return n.keymapMode=e,"default"!==e?t.loadScript(n.path+"codemirror/keymap/"+n.keymapMode,(function(){i.cm.setOption("keyMap",e)})):i.cm.setOption("keyMap",e),this},setCodeMirror:function(){var e=this.settings,i=this.editor;"default"!==e.editorTheme&&t.loadCSS(e.path+"codemirror/theme/"+e.editorTheme);var n={mode:e.mode,theme:e.editorTheme,tabSize:e.tabSize,dragDrop:!0,autofocus:e.autoFocus,autoCloseTags:e.autoCloseTags,readOnly:!!e.readOnly&&"nocursor",indentUnit:e.indentUnit,lineNumbers:e.lineNumbers,lineWrapping:e.lineWrapping,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:e.codeFold,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:e.matchBrackets,indentWithTabs:e.indentWithTabs,styleActiveLine:e.styleActiveLine,styleSelectedText:e.styleSelectedText,autoCloseBrackets:e.autoCloseBrackets,showTrailingSpace:e.showTrailingSpace,highlightSelectionMatches:!!e.matchWordHighlight&&{showToken:"onselected"!==e.matchWordHighlight&&/\w/},scrollPastEnd:!0,smartIndent:!1};return this.codeEditor=this.cm=t.$CodeMirror.fromTextArea(this.markdownTextarea[0],n),this.codeMirror=this.cmElement=i.children(".CodeMirror"),""!==e.value&&this.cm.setValue(e.value),this.codeMirror.css({fontSize:e.fontSize,width:e.watch?"50%":"100%"}),e.autoHeight&&(this.codeMirror.css("height","auto"),this.cm.setOption("viewportMargin",1/0)),e.lineNumbers||this.codeMirror.find(".CodeMirror-gutters").css("border-right","none"),this},getCodeMirrorOption:function(e){return this.cm.getOption(e)},setCodeMirrorOption:function(e,t){return this.cm.setOption(e,t),this},addKeyMap:function(e,t){return this.cm.addKeyMap(e,t),this},removeKeyMap:function(e){return this.cm.removeKeyMap(e),this},gotoLine:function(e){var t=this.settings;if(!t.gotoLine)return this;var i=this.cm,n=(this.editor,i.lineCount());this.preview;if("string"==typeof e&&("last"===e&&(e=n),"first"===e&&(e=1)),"number"!=typeof e)return alert("Error: The line number must be an integer."),this;if((e=parseInt(e)-1)>n)return alert("Error: The line number range 1-"+n),this;i.setCursor({line:e,ch:0});var r=i.getScrollInfo().clientHeight,a=i.charCoords({line:e,ch:0},"local");return i.scrollTo(null,(a.top+a.bottom-r)/2),t.watch&&this.syncPreviewScrolling(),i.focus(),this},extend:function(){return void 0!==arguments[1]&&("function"==typeof arguments[1]&&(arguments[1]=e.proxy(arguments[1],this)),this[arguments[0]]=arguments[1]),"object"==typeof arguments[0]&&void 0===arguments[0].length&&e.extend(!0,this,arguments[0]),this},set:function(t,i){return void 0!==i&&"function"==typeof i&&(i=e.proxy(i,this)),this[t]=i,this},config:function(t,i){var n=this.settings;return"object"==typeof t&&(n=e.extend(!0,n,t)),"string"==typeof t&&(n[t]=i),this.settings=n,this.recreate(),this},on:function(t,i){var n=this.settings;return void 0!==n["on"+t]&&(n["on"+t]=e.proxy(i,this)),this},off:function(e){var t=this.settings;return void 0!==t["on"+e]&&(t["on"+e]=function(){}),this},showToolbar:function(t){var i=this.settings;return i.readOnly||(i.toolbar&&(this.toolbar.length<1||""===this.toolbar.find("."+this.classPrefix+"menu").html())&&this.setToolbar(),i.toolbar=!0,this.toolbar.show(),this.resize(),e.proxy(t||function(){},this)()),this},hideToolbar:function(t){return this.settings.toolbar=!1,this.toolbar.hide(),this.resize(),e.proxy(t||function(){},this)(),this},setToolbarAutoFixed:function(t){var i=this.state,n=this.editor,r=this.toolbar,a=this.settings;void 0!==t&&(a.toolbarAutoFixed=t);return!i.fullscreen&&!i.preview&&a.toolbar&&a.toolbarAutoFixed&&e(window).bind("scroll",(function(){var t=e(window),i=t.scrollTop();if(!a.toolbarAutoFixed)return!1;i-n.offset().top>10&&i<n.height()?r.css({position:"fixed",width:n.width()+"px",left:(t.width()-n.width())/2+"px"}):r.css({position:"absolute",width:"100%",left:0})})),this},setToolbar:function(){var e=this.settings;if(e.readOnly)return this;var i=this.editor,n=(this.preview,this.classPrefix),r=this.toolbar=i.children("."+n+"toolbar");if(e.toolbar&&r.length<1){var a='<div class="'+n+'toolbar"><div class="'+n+'toolbar-container"><ul class="'+n+'menu"></ul></div></div>';i.append(a),r=this.toolbar=i.children("."+n+"toolbar")}if(!e.toolbar)return r.hide(),this;r.show();for(var o="function"==typeof e.toolbarIcons?e.toolbarIcons():"string"==typeof e.toolbarIcons?t.toolbarModes[e.toolbarIcons]:e.toolbarIcons,s=r.find("."+this.classPrefix+"menu"),l="",c=!1,h=0,d=o.length;h<d;h++){var u=o[h];if("||"===u)c=!0;else if("|"===u)l+='<li class="divider" unselectable="on">|</li>';else{var p=/h(\d)/.test(u),f=u;"watch"!==u||e.watch||(f="unwatch");var g=e.lang.toolbar[f],m=e.toolbarIconTexts[f],A=e.toolbarIconsClass[f];g=void 0===g?"":g,m=void 0===m?"":m,A=void 0===A?"":A;var v=c?'<li class="pull-right">':"<li>";void 0!==e.toolbarCustomIcons[u]&&"function"!=typeof e.toolbarCustomIcons[u]?v+=e.toolbarCustomIcons[u]:(v+='<a href="javascript:;" title="'+g+'" unselectable="on">',v+='<i class="fa '+A+'" name="'+u+'" unselectable="on">'+(p?u.toUpperCase():""===A?m:"")+"</i>",v+="</a>"),v+="</li>",l=c?v+l:l+v}}s.html(l);var w=s.find("li.pull-right").detach();return w&&w.appendTo(s),s.find('[title="Lowercase"]').attr("title",e.lang.toolbar.lowercase),s.find('[title="ucwords"]').attr("title",e.lang.toolbar.ucwords),this.setToolbarHandler(),this.setToolbarAutoFixed(),this},dialogLockScreen:function(){return e.proxy(t.dialogLockScreen,this)(),this},dialogShowMask:function(i){return e.proxy(t.dialogShowMask,this)(i),this},getToolbarHandles:function(e){var i=this.toolbarHandlers=t.toolbarHandlers;return e&&void 0!==toolbarIconHandlers[e]?i[e]:i},setToolbarHandler:function(){var i=this,n=this.settings;if(!n.toolbar||n.readOnly)return this;var r=this.toolbar,a=this.cm,o=this.classPrefix,s=this.toolbarIcons=r.find("."+o+"menu > li > a"),l=this.getToolbarHandles();return s.bind(t.mouseOrTouch("click","touchend"),(function(t){var r=e(this).children(".fa"),o=r.attr("name"),s=a.getCursor(),c=a.getSelection();if(""!==o)return i.activeIcon=r,void 0!==l[o]?e.proxy(l[o],i)(a):void 0!==n.toolbarHandlers[o]&&e.proxy(n.toolbarHandlers[o],i)(a,r,s,c),"link"!==o&&"reference-link"!==o&&"image"!==o&&"code-block"!==o&&"preformatted-text"!==o&&"watch"!==o&&"preview"!==o&&"search"!==o&&"fullscreen"!==o&&"info"!==o&&a.focus(),!1})),this},createDialog:function(i){return e.proxy(t.createDialog,this)(i)},createInfoDialog:function(){var e=this,i=this.editor,n=this.classPrefix,r=['<div class="'+n+"dialog "+n+'dialog-info" style="">','<div class="'+n+'dialog-container">','<h1><i class="editormd-logo editormd-logo-lg editormd-logo-color"></i> '+t.title+"<small>v"+t.version+"</small></h1>","<p>"+this.lang.description+"</p>",'<p style="margin: 10px 0 20px 0;"><a href="'+t.homePage+'" target="_blank">'+t.homePage+' <i class="fa fa-external-link"></i></a></p>','<p style="font-size: 0.85em;">Copyright &copy; 2020 <a href="https://github.com/pandao" target="_blank" class="hover-link">Pandao</a>, The <a href="https://github.com/pandao/editor.md/blob/master/LICENSE" target="_blank" class="hover-link">MIT</a> License.</p>',"</div>",'<a href="javascript:;" class="fa fa-close '+n+'dialog-close"></a>',"</div>"].join("\n");i.append(r);var a=this.infoDialog=i.children("."+n+"dialog-info");return a.find("."+n+"dialog-close").bind(t.mouseOrTouch("click","touchend"),(function(){e.hideInfoDialog()})),a.css("border",t.isIE8?"1px solid #ddd":"").css("z-index",t.dialogZindex).show(),this.infoDialogPosition(),this},infoDialogPosition:function(){var t=this.infoDialog,i=function(){t.css({top:(e(window).height()-t.height())/2+"px",left:(e(window).width()-t.width())/2+"px"})};return i(),e(window).resize(i),this},showInfoDialog:function(){e("html,body").css("overflow-x","hidden");var i=this.editor,n=this.settings,r=this.infoDialog=i.children("."+this.classPrefix+"dialog-info");return r.length<1&&this.createInfoDialog(),this.lockScreen(!0),this.mask.css({opacity:n.dialogMaskOpacity,backgroundColor:n.dialogMaskBgColor}).show(),r.css("z-index",t.dialogZindex).show(),this.infoDialogPosition(),this},hideInfoDialog:function(){return e("html,body").css("overflow-x",""),this.infoDialog.hide(),this.mask.hide(),this.lockScreen(!1),this},lockScreen:function(e){return t.lockScreen(e),this.resize(),this},recreate:function(){var e=this.editor,t=this.settings;return this.codeMirror.remove(),this.setCodeMirror(),t.readOnly||(e.find(".editormd-dialog").length>0&&e.find(".editormd-dialog").remove(),t.toolbar&&(this.getToolbarHandles(),this.setToolbar())),this.loadedDisplay(!0),this},previewCodeHighlight:function(){var e=this.settings,t=this.previewContainer;return e.previewCodeHighlight&&(t.find("pre").addClass("snippet prettyprint linenums"),void 0!==prettyPrint&&(prettyPrint(),void 0!==window.Clipboard&&window.Clipboard.render(e.path))),this},mathjaxRender:function(){return null===i||MathJax.typeset&&MathJax.typeset(),this},flowChartAndSequenceDiagramRender:function(){var e=this.settings,i=this.previewContainer;return t.isIE8||(e.flowChart&&i.find(".flowchart").flowChart(),e.sequenceDiagram&&i.find(".sequence-diagram").sequenceDiagram({theme:"simple"}),this.syncPreviewScrolling()),this},registerKeyMaps:function(i){var r=this,a=this.cm,o=this.settings,s=t.toolbarHandlers,l=o.disabledKeyMaps;if(i=i||null){for(var c in i)if(e.inArray(c,l)<0){i[c],a.addKeyMap(i)}}else{for(var h in n=[],t.keyMaps){var d=t.keyMaps[h],u="string"==typeof d?e.proxy(s[d],r):e.proxy(d,r);if(e.inArray(h,["F9","F10","F11"])<0&&e.inArray(h,l)<0){var p={};p[h]=u,a.addKeyMap(p),n.push(p)}}e(window).keydown((function(t){if(e.inArray({120:"F9",121:"F10",122:"F11"}[t.keyCode],l)<0)switch(t.keyCode){case 120:return e.proxy(s.watch,r)(),!1;case 121:return e.proxy(s.preview,r)(),!1;case 122:return e.proxy(s.fullscreen,r)(),!1}}))}return this},unregisterKeyMaps:function(){var e=this.cm;if(n)for(var t in n)e.removeKeyMap(n[t]);return n=null,this},syncPreviewScrolling:function(){var t=this.cm,i=this.preview,n=t.getScrollInfo(),r=t.coordsChar(n,"local"),a=i.find("* [data-source-line]"),o=[];a.each((function(){o.push(e(this).data("source-line"))}));for(var s=r.line,l=!1,c=!1,h=0;h<o.length;h++){if(!(o[h]<s)){c=h;break}l=h}var d=0;!1!==l&&(d=o[l]);var u=t.lastLine();!1!==c&&(u=o[c]);var p=0;d!=u&&(p=(s-d)/(u-d));var f=0;!1!==l&&(f=i.find('[data-source-line="'+d+'"]').get(0).offsetTop);var g=i.get(0).scrollHeight;!1!==c&&(g=i.find('[data-source-line="'+u+'"]').get(0).offsetTop);var m=f+(g-f)*p;return i.scrollTop(m),this},bindScrollEvent:function(){var i=this,n=this.cm,r=this.preview,a=this.settings,o=this.codeMirror,s=t.mouseOrTouch;if(!a.syncScrolling)return this;var l=function(){o.find(".CodeMirror-scroll").bind(s("scroll","touchmove"),(function(t){i.syncPreviewScrolling(),e.proxy(a.onscroll,i)(t)}))},c=function(){o.find(".CodeMirror-scroll").unbind(s("scroll","touchmove"))},h=function(){r.bind(s("scroll","touchmove"),(function(t){if(i.state.preview)e.proxy(a.onpreviewscroll,i)(t);else{for(var o=e(this).height(),s=r.scrollTop(),l=!1,c=!1,h=r.find("* [data-source-line]"),d=0;d<h.length;d++){if(!(h[d].offsetTop<s)){c=d;break}l=d}var u=0;!1!==l&&(u=h[l].offsetTop);var p=o;!1!==c&&(p=h[c].offsetTop);var f=0;u!=p&&(f=(s-u)/(p-u)),!1!==l&&(u=h[l].attributes["data-source-line"].value),!1!==c&&(p=h[c].attributes["data-source-line"].value);var g=n.charCoords({line:u,ch:0},"local"),m=(n.charCoords({line:p,ch:0},"local").top-g.top)*f+g.top;n.scrollTo(null,m),e.proxy(a.onpreviewscroll,i)(t)}}))},d=function(){r.unbind(s("scroll","touchmove"))};return o.bind({mouseover:l,mouseout:c,touchstart:l,touchend:c}),"single"===a.syncScrolling||r.bind({mouseover:h,mouseout:d,touchstart:h,touchend:d}),this},bindTocScrollEvent:function(t){var i=this.cm,n=this.preview,r=this.settings,a=this.previewContainer;return r.syncScrolling?(t.find("a").on("click",(function(){var t=e(this),r=t.attr("href"),o=(t.attr("level"),t.attr("lineIdx"));n.scrollTop(0);var s=n.offset().top,l=r.substring(1),c=a.find('a[name="'+l+'"]'),h=c;o&&c.length>1&&c.each((function(){if(e(this).parent().attr("data-source-line")==o)return h=e(this),!1}));var d=h.offset().top-s;n.scrollTop(d);var u=h.parent().attr("data-source-line"),p=i.charCoords({line:u,ch:0},"local");return i.scrollTo(null,p.top),!1})),this):this},bindChangeEvent:function(){var e=this,t=this.cm,n=this.settings;return n.syncScrolling?(t.on("change",(function(t,a){n.watch&&e.previewContainer.css("padding",n.autoHeight?"20px 20px 50px 40px":"20px"),i&&(clearTimeout(i),i=void 0);var o=r;o>n.delay&&(o=n.delay),o<10&&(o=10),i=setTimeout((function(){i=void 0;var t=(new Date).getTime();e.save();var n=(new Date).getTime();r=4*(n-t)}),o)})),this):this},bindVimModeChangeEvent:function(){var e=this,t=this.cm,i=(this.state,this.settings);return t.on("vim-mode-change",(function(t){"insert"===t.mode?n||e.registerKeyMaps():e.unregisterKeyMaps()})),"default"!==i.keymapMode&&e.cm.setOption("keyMap",i.keymapMode),this},loadedDisplay:function(t){t=t||!1;var i=this,n=this.editor,r=this.preview,a=this.settings;return this.containerMask.hide(),this.save(),a.watch&&r.show(),n.data("oldWidth",n.width()).data("oldHeight",n.height()),this.resize(),e(window).resize((function(){i.resize()})),this.bindScrollEvent().bindChangeEvent().bindVimModeChangeEvent(),t||e.proxy(a.onload,this)(),this.state.loaded=!0,this},width:function(e){return this.editor.css("width","number"==typeof e?e+"px":e),this.resize(),this},height:function(e){return this.editor.css("height","number"==typeof e?e+"px":e),this.resize(),this},resize:function(t,i){t=t||null,i=i||null;var n=this.state,r=this.editor,a=this.preview,o=this.toolbar,s=this.settings,l=this.codeMirror;if(t&&r.css("width","number"==typeof t?t+"px":t),!s.autoHeight||n.fullscreen||n.preview?(i&&r.css("height","number"==typeof i?i+"px":i),n.fullscreen&&r.height(e(window).height()-10),s.toolbar&&!s.readOnly?l.css("margin-top",o.height()+1).height(r.height()-o.height()):l.css("margin-top",0).height(r.height())):(r.css("height","auto"),l.css("height","auto")),s.watch)if(l.width(r.width()/2),a.width(n.preview?r.width():r.width()/2),this.previewContainer.css("padding",s.autoHeight?"20px 20px 50px 40px":"20px"),s.toolbar&&!s.readOnly?a.css("top",o.height()+1):a.css("top",0),!s.autoHeight||n.fullscreen||n.preview){var c=s.toolbar&&!s.readOnly?r.height()-o.height():r.height();a.height(c)}else a.height("");else l.width(r.width()),a.hide();return n.loaded&&e.proxy(s.onresize,this)(),this},rtrim:function(e){var t=0,i=e.length;if(0==i)return"";for(var n=i-1;n>=0&&" "==e[n];--n)++t;return e.substr(0,i-t)},invMathProcess:function(e){for(var t=e.split("\n"),i=!1,n="",r=0;r<t.length;++r){var a=t[r];"```math"==a?i=!0:"```"==a&&1==i?i=!1:n+=a+"\n"}return n},mathProcess:function(e){var t=e=>{var t=0,i=e.length;if(0==i)return"";for(var n=i-1;n>=0&&" "==e[n];--n)++t;return e.substr(0,i-t)},i=e=>{for(var t="",i=0;i<e.length&&-1!==[" ",">","\t"].indexOf(e[i]);++i)t+=e[i];return t};return(e=>{for(var n=[],r=[],a=!1,o=!1,s=0;s<e.length;++s){var l=t(e[s]),c=i(l);if("$$"==(l=l.substr(c.length,l.length-c.length))){if(1==o){n.push(l);continue}r.push([c,l].join("")),0==a?a=!0:(n.push([c,"```math"].join("")),(n=n.concat(r)).push([c,"```"].join("")),r=[],a=!1)}else if(/^```.*$/.test(l))n.push([c,l].join("")),o=!o;else if(0==a){if(o||l.length>0&&"#"==l[0]){n.push([c,l].join(""));continue}for(var h="",d=!1,u="",p=0;p<l.length;++p){var f=l[p];"$"==f?(u+=f,1==d?(h+="`"+u+"`",u="",d=!1):d=!0):1==d?u+=f:h+=f}h+=u,n.push([c,h].join(""))}else r.push([c,l].join(""))}return n.concat(r)})(e.split("\n")).join("\n")},save:function(){var n=this.state,r=this.settings;if(null===i&&(r.watch||!n.preview))return this;var a=this.cm,o=a.getValue(),s=this.previewContainer;if("gfm"!==r.mode&&"markdown"!==r.mode)return this.markdownTextarea.val(o),this;var l=t.$marked,c=this.markdownToC=[],h=this.markedRendererOptions={path:r.path,toc:r.toc,tocm:r.tocm,tocStartLevel:r.tocStartLevel,pageBreak:r.pageBreak,taskList:r.taskList,emoji:r.emoji,tex:r.tex,atLink:r.atLink,emailLink:r.emailLink,flowChart:r.flowChart,sequenceDiagram:r.sequenceDiagram,previewCodeHighlight:r.previewCodeHighlight},d=this.markedOptions={renderer:t.markedRenderer(c,h),gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!r.htmlDecode,smartLists:!0,smartypants:!1,imageLazyLoad:r.imageLazyLoad,imageLazyLoadLoadingICON:r.imageLazyLoadLoadingICON};l.setOptions(d);var u="";if(u=t.$marked(this.mathProcess(o),d),u=t.filterHTMLTags(u,r.htmlDecode),this.markdownTextarea.text(o),a.save(),r.saveHTMLToTextarea&&this.htmlTextarea.text(u),r.watch||!r.watch&&n.preview){if(s.html(u),this.previewCodeHighlight(),r.toc){var p=""===r.tocContainer?s:e(r.tocContainer),f=p.find("."+this.classPrefix+"toc-menu");p.attr("previewContainer",""===r.tocContainer?"true":"false"),""!==r.tocContainer&&f.length>0&&f.remove();var g=t.markdownToCRenderer(c,p,r.tocDropdown,r.tocStartLevel);this.bindTocScrollEvent(g),(r.tocDropdown||p.find("."+this.classPrefix+"toc-menu").length>0)&&t.tocDropdownMenu(p,""!==r.tocTitle?r.tocTitle:this.lang.tocTitle),""!==r.tocContainer&&s.find(".markdown-toc").css("border","none")}(r.flowChart||r.sequenceDiagram)&&this.flowChartAndSequenceDiagramRender(),r.tex&&this.mathjaxRender(),r.imageLazyLoad&&window.ScriptAction.imageLazyLoad(),n.loaded&&e.proxy(r.onchange,this)()}return this},focus:function(){return this.cm.focus(),this},setCursor:function(e){return this.cm.setCursor(e),this},getCursor:function(){return this.cm.getCursor()},setSelection:function(e,t){return this.cm.setSelection(e,t),this},getSelection:function(){return this.cm.getSelection()},setSelections:function(e){return this.cm.setSelections(e),this},getSelections:function(){return this.cm.getSelections()},replaceSelection:function(e){return this.cm.replaceSelection(e),this},insertValue:function(e){return this.replaceSelection(e),this},appendMarkdown:function(e){this.settings;var t=this.cm;return t.setValue(t.getValue()+e),this},setMarkdown:function(e){return this.cm.setValue(e||this.settings.markdown),this},getMarkdown:function(){return this.cm.getValue()},getValue:function(){return this.cm.getValue()},setValue:function(e){return this.cm.setValue(e),this},clear:function(){return this.cm.setValue(""),this},getHTML:function(){return this.settings.saveHTMLToTextarea?this.htmlTextarea.val():(alert("Error: settings.saveHTMLToTextarea == false"),!1)},getTextareaSavedHTML:function(){return this.getHTML()},getPreviewedHTML:function(){this.settings.watch?this.save():(this.settings.watch=!0,this.save(),this.settings.watch=!1);var t=this;if(!0===this.settings.imageLazyLoad){let e=document.querySelectorAll(".lazyload");Array.prototype.forEach.call(e,(function(e){"img"===e.tagName.toLowerCase()&&(e.src="data:image/gif;base64,"+t.settings.imageLazyLoadLoadingICON)}))}var i=new RegExp(window.location.origin,"g");return e("#MJX-CHTML-styles").prop("outerHTML").replace(i,this.settings.texTargetUrl)+"\n"+this.previewContainer.html().replace(/(MJXZERO, )+/g,"MJXZERO, ")},watch:function(t){var n=this.settings;if(e.inArray(n.mode,["gfm","markdown"])<0)return this;if(this.state.watching=n.watch=!0,this.preview.show(),this.toolbar){var r=n.toolbarIconsClass.watch,a=n.toolbarIconsClass.unwatch,o=this.toolbar.find(".fa[name=watch]");o.parent().attr("title",n.lang.toolbar.watch),o.removeClass(a).addClass(r)}return this.codeMirror.css("border-right","1px solid #ddd").width(this.editor.width()/2),i=0,this.save().resize(),n.onwatch||(n.onwatch=t||function(){}),e.proxy(n.onwatch,this)(),this},unwatch:function(t){var i=this.settings;if(this.state.watching=i.watch=!1,this.preview.hide(),this.toolbar){var n=i.toolbarIconsClass.watch,r=i.toolbarIconsClass.unwatch,a=this.toolbar.find(".fa[name=watch]");a.parent().attr("title",i.lang.toolbar.unwatch),a.removeClass(n).addClass(r)}return this.codeMirror.css("border-right","none").width(this.editor.width()),this.resize(),i.onunwatch||(i.onunwatch=t||function(){}),e.proxy(i.onunwatch,this)(),this},show:function(t){t=t||function(){};var i=this;return this.editor.show(0,(function(){e.proxy(t,i)()})),this},hide:function(t){t=t||function(){};var i=this;return this.editor.hide(0,(function(){e.proxy(t,i)()})),this},previewing:function(){var i=this,n=this.editor,r=this.preview,a=this.toolbar,o=this.settings,s=this.codeMirror,l=this.previewContainer;if(e.inArray(o.mode,["gfm","markdown"])<0)return this;o.toolbar&&a&&(a.toggle(),a.find(".fa[name=preview]").toggleClass("active")),s.toggle();var c=function(e){e.shiftKey&&27===e.keyCode&&i.previewed()};"none"===s.css("display")?(this.state.preview=!0,this.state.fullscreen&&r.css("background","#fff"),n.find("."+this.classPrefix+"preview-close-btn").show().bind(t.mouseOrTouch("click","touchend"),(function(){i.previewed()})),o.watch?l.css("padding",""):this.save(),l.addClass(this.classPrefix+"preview-active"),r.show().css({position:"",top:0,width:n.width(),height:o.autoHeight&&!this.state.fullscreen?"auto":n.height()}),this.state.loaded&&e.proxy(o.onpreviewing,this)(),e(window).bind("keyup",c)):(e(window).unbind("keyup",c),this.previewed())},previewed:function(){var i=this.editor,n=this.preview,r=this.toolbar,a=this.settings,o=this.previewContainer,s=i.find("."+this.classPrefix+"preview-close-btn");return this.state.preview=!1,this.codeMirror.show(),a.toolbar&&r.show(),n[a.watch?"show":"hide"](),s.hide().unbind(t.mouseOrTouch("click","touchend")),o.removeClass(this.classPrefix+"preview-active"),a.watch&&o.css("padding","20px"),n.css({background:null,position:"absolute",width:i.width()/2,height:a.autoHeight&&!this.state.fullscreen?"auto":i.height()-r.height(),top:a.toolbar?r.height():0}),this.syncPreviewScrolling(),this.state.loaded&&e.proxy(a.onpreviewed,this)(),this},fullscreen:function(){var t=this.state,i=this.editor,n=(this.preview,this.toolbar),r=this.settings,a=this.classPrefix+"fullscreen";n&&n.find(".fa[name=fullscreen]").parent().toggleClass("active");return i.hasClass(a)?this.fullscreenExit():(t.fullscreen=!0,e("html,body").css("overflow","hidden"),i.css({width:e(window).width(),height:e(window).height()}).addClass(a),this.resize(),e.proxy(r.onfullscreen,this)()),this},fullscreenExit:function(){var t=this.editor,i=this.settings,n=this.toolbar,r=this.classPrefix+"fullscreen";return this.state.fullscreen=!1,n&&n.find(".fa[name=fullscreen]").parent().removeClass("active"),e("html,body").css("overflow","auto"),t.css({width:t.data("oldWidth"),height:t.data("oldHeight")}).removeClass(r),this.resize(),e.proxy(i.onfullscreenExit,this)(),this},executePlugin:function(i,n){var r=this,a=this.cm;return n=this.settings.pluginPath+n,"function"==typeof define?void 0===this[i]?(alert("Error: "+i+" plugin is not found, you are not load this plugin."),this):(this[i](a),this):(e.inArray(n,t.loadFiles.plugin)<0?t.loadPlugin(n,(function(){t.loadPlugins[i]=r[i],r[i](a)})):e.proxy(t.loadPlugins[i],this)(a),this)},search:function(e){var t=this.settings;return t.searchReplace?(t.readOnly||this.cm.execCommand(e||"find"),this):(alert("Error: settings.searchReplace == false"),this)},searchReplace:function(){return this.search("replace"),this},searchReplaceAll:function(){return this.search("replaceAll"),this}},t.fn.init.prototype=t.fn,t.dialogLockScreen=function(){(this.settings||{dialogLockScreen:!0}).dialogLockScreen&&(e("html,body").css("overflow","hidden"),this.resize())},t.dialogShowMask=function(t){var i=this.editor,n=this.settings||{dialogShowMask:!0};t.css({top:(e(window).height()-t.height())/2+"px",left:(e(window).width()-t.width())/2+"px"}),n.dialogShowMask&&i.children("."+this.classPrefix+"mask").css("z-index",parseInt(t.css("z-index"))-1).show()},t.toolbarHandlers={undo:function(){this.cm.undo()},redo:function(){this.cm.redo()},bold:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();e.replaceSelection("**"+i+"**"),""===i&&e.setCursor(t.line,t.ch+2)},del:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();e.replaceSelection("~~"+i+"~~"),""===i&&e.setCursor(t.line,t.ch+2)},italic:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();e.replaceSelection("*"+i+"*"),""===i&&e.setCursor(t.line,t.ch+1)},quote:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();if(0!==t.ch)e.setCursor(t.line,0),e.replaceSelection("> "+i),e.setCursor(t.line,t.ch+2);else{for(var n=i.split("\n"),r="",a=0;a<n.length;++a)r+="> "+n[a]+"\n";e.replaceSelection(r)}},ucfirst:function(){var e=this.cm,i=e.getSelection(),n=e.listSelections();e.replaceSelection(t.firstUpperCase(i)),e.setSelections(n)},ucwords:function(){var e=this.cm,i=e.getSelection(),n=e.listSelections();e.replaceSelection(t.wordsFirstUpperCase(i)),e.setSelections(n)},uppercase:function(){var e=this.cm,t=e.getSelection(),i=e.listSelections();e.replaceSelection(t.toUpperCase()),e.setSelections(i)},lowercase:function(){var e=this.cm,t=(e.getCursor(),e.getSelection()),i=e.listSelections();e.replaceSelection(t.toLowerCase()),e.setSelections(i)},h1:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("# "+i),e.setCursor(t.line,t.ch+2)):e.replaceSelection("# "+i)},h2:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("## "+i),e.setCursor(t.line,t.ch+3)):e.replaceSelection("## "+i)},h3:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("### "+i),e.setCursor(t.line,t.ch+4)):e.replaceSelection("### "+i)},h4:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("#### "+i),e.setCursor(t.line,t.ch+5)):e.replaceSelection("#### "+i)},h5:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("##### "+i),e.setCursor(t.line,t.ch+6)):e.replaceSelection("##### "+i)},h6:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("###### "+i),e.setCursor(t.line,t.ch+7)):e.replaceSelection("###### "+i)},"list-ul":function(){var e=this.cm,t=(e.getCursor(),e.getSelection());if(""===t)e.replaceSelection("- "+t);else{for(var i=t.split("\n"),n=0,r=i.length;n<r;n++)i[n]=""===i[n]?"":"- "+i[n];e.replaceSelection(i.join("\n"))}},"list-ol":function(){var e=this.cm,t=(e.getCursor(),e.getSelection());if(""===t)e.replaceSelection("1. "+t);else{for(var i=t.split("\n"),n=0,r=i.length;n<r;n++)i[n]=""===i[n]?"":n+1+". "+i[n];e.replaceSelection(i.join("\n"))}},hr:function(){var e=this.cm,t=e.getCursor();e.getSelection();e.replaceSelection((0!==t.ch?"\n\n":"\n")+"------------\n\n")},tex:function(){if(!this.settings.tex)return alert("settings.tex === false"),this;var e=this.cm,t=e.getCursor(),i=e.getSelection();e.replaceSelection("$$"+i+"$$"),""===i&&e.setCursor(t.line,t.ch+2)},link:function(){this.executePlugin("linkDialog","link-dialog/link-dialog")},"reference-link":function(){this.executePlugin("referenceLinkDialog","reference-link-dialog/reference-link-dialog")},pagebreak:function(){if(!this.settings.pageBreak)return alert("settings.pageBreak === false"),this;var e=this.cm;e.getSelection();e.replaceSelection("\r\n[========]\r\n")},image:function(){this.executePlugin("imageDialog","image-dialog/image-dialog")},file:function(){this.executePlugin("fileDialog","file-dialog/file-dialog")},code:function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();e.replaceSelection("`"+i+"`"),""===i&&e.setCursor(t.line,t.ch+1)},"code-block":function(){this.executePlugin("codeBlockDialog","code-block-dialog/code-block-dialog")},"preformatted-text":function(){this.executePlugin("preformattedTextDialog","preformatted-text-dialog/preformatted-text-dialog")},table:function(){this.executePlugin("tableDialog","table-dialog/table-dialog")},datetime:function(){var e=this.cm,i=(e.getSelection(),new Date,this.settings.lang.name),n=t.dateFormat()+" "+t.dateFormat("zh-cn"===i||"zh-tw"===i?"cn-week-day":"week-day");e.replaceSelection(n)},emoji:function(){this.executePlugin("emojiDialog","emoji-dialog/emoji-dialog")},"html-entities":function(){this.executePlugin("htmlEntitiesDialog","html-entities-dialog/html-entities-dialog")},"goto-line":function(){this.executePlugin("gotoLineDialog","goto-line-dialog/goto-line-dialog")},watch:function(){this[this.settings.watch?"unwatch":"watch"]()},preview:function(){this.previewing()},fullscreen:function(){this.fullscreen()},clear:function(){this.clear()},search:function(){this.search()},help:function(){this.executePlugin("helpDialog","help-dialog/help-dialog")},info:function(){this.showInfoDialog()},options:function(){this.executePlugin("optionsDialog","options-dialog/options-dialog")},extend_html:function(){this.executePlugin("extendHtmlDialog","extend-html-dialog/extend-html-dialog")}},t.keyMaps={"Ctrl-1":"h1","Ctrl-2":"h2","Ctrl-3":"h3","Ctrl-4":"h4","Ctrl-5":"h5","Ctrl-6":"h6","Ctrl-B":"bold","Ctrl-D":"datetime","Ctrl-E":function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();this.settings.emoji?(e.replaceSelection(":"+i+":"),""===i&&e.setCursor(t.line,t.ch+1)):alert("Error: settings.emoji == false")},"Ctrl-Alt-G":"goto-line","Ctrl-H":"hr","Ctrl-I":"italic","Ctrl-K":"code","Ctrl-L":function(){var e=this.cm,t=e.getCursor(),i=e.getSelection(),n=""===i?"":' "'+i+'"';e.replaceSelection("["+i+"]("+n+")"),""===i&&e.setCursor(t.line,t.ch+1)},"Ctrl-U":"list-ul","Shift-Ctrl-A":function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();this.settings.atLink?(e.replaceSelection("@"+i),""===i&&e.setCursor(t.line,t.ch+1)):alert("Error: settings.atLink == false")},"Shift-Ctrl-C":"code","Shift-Ctrl-Q":"quote","Shift-Ctrl-S":"del","Shift-Ctrl-K":"tex","Shift-Alt-C":function(){var e=this.cm,t=e.getCursor(),i=e.getSelection();e.replaceSelection(["```",i,"```"].join("\n")),""===i&&e.setCursor(t.line,t.ch+3)},"Shift-Ctrl-Alt-C":"code-block","Shift-Ctrl-H":"html-entities","Shift-Alt-H":"help","Shift-Ctrl-E":"emoji","Shift-Ctrl-U":"uppercase","Shift-Alt-U":"ucwords","Shift-Ctrl-Alt-U":"ucfirst","Shift-Alt-L":"lowercase","Shift-Ctrl-I":function(){var e=this.cm,t=e.getCursor(),i=e.getSelection(),n=""===i?"":' "'+i+'"';e.replaceSelection("!["+i+"]("+n+")"),""===i&&e.setCursor(t.line,t.ch+4)},"Shift-Ctrl-Alt-I":"image","Shift-Ctrl-L":"link","Shift-Ctrl-O":"list-ol","Shift-Ctrl-P":"preformatted-text","Shift-Ctrl-T":"table","Shift-Alt-P":"pagebreak",F9:"watch",F10:"preview",F11:"fullscreen"};var a=function(e){return String.prototype.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};t.trim=a;t.ucwords=t.wordsFirstUpperCase=function(e){return e.toLowerCase().replace(/\b(\w)|\s(\w)/g,(function(e){return e.toUpperCase()}))};var o=function(e){return e.toLowerCase().replace(/\b(\w)/,(function(e){return e.toUpperCase()}))};return t.firstUpperCase=t.ucfirst=o,t.urls={atLinkBase:"https://github.com/"},t.regexs={atLink:/@(\w+)/g,email:/(\w+)@(\w+)\.(\w+)\.?(\w+)?/g,emailLink:/(mailto:)?([\w\.\_]+)@(\w+)\.(\w+)\.?(\w+)?/g,emoji:/:([\w\+-]+):/g,emojiDatetime:/(\d{1,2}:\d{1,2}:\d{1,2})/g,twemoji:/:(tw-([\w]+)-?(\w+)?):/g,fontAwesome:/:(fa-([\w]+)(-(\w+)){0,}):/g,editormdLogo:/:(editormd-logo-?(\w+)?):/g,pageBreak:/^\[[=]{8,}\]$/,footNoteRef:/\[\^(.+?)\]/,footNoteDef:/^\[\^(.+?)\]\:/},t.emoji={path:"../emoji/emojis/",ext:".png"},t.twemoji={path:"../emoji/twemoji/",ext:".png"},t.markedRenderer=function(i,n){var r=e.extend({toc:!0,tocm:!1,tocStartLevel:1,pageBreak:!0,atLink:!0,emailLink:!0,taskList:!1,emoji:!1,tex:!1,flowChart:!1,sequenceDiagram:!1},n||{}),o=t.$marked,s=new o.Renderer;i=i||[];var l=t.regexs,c=l.atLink,h=l.emoji,d=l.email,u=l.emailLink,p=l.twemoji,f=l.fontAwesome,g=l.editormdLogo,m=l.pageBreak,A=l.footNoteRef,v=l.footNoteDef;return s.emoji=function(e){var i=(e=e.replace(t.regexs.emojiDatetime,(function(e){return e.replace(/:/g,"&#58;")}))).match(h);if(!i||!r.emoji)return e;for(var n=0,a=i.length;n<a;n++)":+1:"===i[n]&&(i[n]=":\\+1:"),e=e.replace(new RegExp(i[n]),(function(e,i){var n=e.match(f),a=e.replace(/:/g,"");if(n)for(var o=0,s=n.length;o<s;o++){var l=n[o].replace(/:/g,"");return'<i class="fa '+l+' fa-emoji" title="'+l.replace("fa-","")+'"></i>'}else{var c=e.match(g),h=e.match(p);if(c)for(var d=0,u=c.length;d<u;d++){var m=c[d].replace(/:/g,"");return'<i class="'+m+'" title="Editor.md logo ('+m+')"></i>'}else{if(!h){var A="+1"===a?"plus1":a;return A="moon"===(A="black_large_square"===A?"black_square":A)?"waxing_gibbous_moon":A,'<img src="'+r.path+t.emoji.path+A+t.emoji.ext+'" class="emoji" title="&#58;'+a+'&#58;" alt="&#58;'+a+'&#58;" />'}for(var v=0,w=h.length;v<w;v++){var b=h[v].replace(/:/g,"").replace("tw-","");return'<img src="'+r.path+t.twemoji.path+b+t.twemoji.ext+'" title="twemoji-'+b+'" alt="twemoji-'+b+'" class="emoji twemoji" />'}}}}));return e},s.atLink=function(i){return c.test(i)?(r.atLink&&(i=(i=i.replace(d,(function(e,t,i,n){return e.replace(/@/g,"_#_&#64;_#_")}))).replace(c,(function(e,i){return'<a target="_blank" href="'+t.urls.atLinkBase+i+'" title="&#64;'+i+'" class="at-link">'+e+"</a>"})).replace(/_#_&#64;_#_/g,"@")),r.emailLink&&(i=i.replace(u,(function(t,i,n,r,a){return!i&&e.inArray(a,"jpg|jpeg|png|gif|webp|ico|icon|pdf".split("|"))<0?'<a target="_blank" href="mailto:'+t+'">'+t+"</a>":t}))),i):i},s.footNote=function(e){if(A.test(e)){if(v.test(e)){return e=e.replace(/^\[\^(.+?)\]\:/g,(function(e,t){var i=escape(t);return'<a href="#fnref:'+i+'" id="fn:'+i+'" title="Return to article" class="reversefootnote">['+t+"]:</a>"}))}return e=e.replace(/\[\^(.+?)\]/g,(function(e,t){var i=escape(t);return'<sup><a href="#fn:'+i+'" id="fnref:'+i+'" title="See footnote" class="footnote">['+t+"]</a></sup>"}))}return e},s.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(unescape(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===n.indexOf("javascript:"))return""}var r='target="_blank"';e.length>0&&"#"==e[0]&&(r="");var a="<a "+r+' href="'+e+'"';return c.test(t)||c.test(i)?(t&&(a+=' title="'+t.replace(/@/g,"&#64;")),a+'">'+i.replace(/@/g,"&#64;")+"</a>"):(t&&(a+=' title="'+t+'"'),a+=">"+i+"</a>")},s.heading=function(e,t,n,r){var o=e,s=/\s*\<a\s*target=\"_blank\"\s*href\=\"(.*)\"\s*([^\>]*)\>(.*)\<\/a\>\s*/;if(s.test(e)){for(var l=[],c=0,h=(e=e.split(/\<a\s*([^\>]+)\>([^\>]*)\<\/a\>/)).length;c<h;c++)l.push(e[c].replace(/\s*target=\"_blank\"\s*href\=\"(.*)\"\s*/g,""));e=l.join(" ")}var d=(e=a(e)).toLowerCase().replace(/[^\w]+/g,"-"),u={text:e,level:t,slug:d,lineIdx:r},p=/^[\u4e00-\u9fa5]+$/.test(e)?escape(e).replace(/\%/g,""):e.toLowerCase().replace(/[^\w]+/g,"-");i.push(u);var f="<h"+t+' id="h'+t+"-"+this.options.headerPrefix+p+'" data-source-line="'+r+'">';return f+='<a name="'+e+'" class="reference-link"></a>',f+='<span class="header-link octicon octicon-link"></span>',f+=s?this.atLink(this.emoji(this.footNote(o))):this.atLink(this.emoji(this.footNote(e))),f+="</h"+t+">"},s.pageBreak=function(e){return m.test(e)&&r.pageBreak&&(e='<hr style="page-break-after:always;" class="page-break editormd-page-break" />'),e},s.paragraph=function(e,t){var i=r.tocm?/^(\[TOC\]|\[TOCM\])$/.test(e):/^\[TOC\]$/.test(e),n=/^\[TOCM\]$/.test(e),a='<div class="markdown-toc editormd-markdown-toc">'+e+"</div>",o="";return void 0!==t&&(o=' data-source-line="'+t),i?n?'<div class="editormd-toc-menu">'+a+"</div><br/>":a:m.test(e)?this.pageBreak(e):"<p"+o+'">'+this.atLink(this.emoji(e))+"</p>\n"},s.code=function(e,t,i){return"seq"===t||"sequence"===t?'<div class="sequence-diagram">'+e+"</div>":"flow"===t?'<div class="flowchart">'+e+"</div>":"math"===t?'<div class="math math-block">'+e+"</div>":o.Renderer.prototype.code.apply(this,arguments)},s.codespan=function(e){return e.match(/^\$+([^\$\n]+?)\$+$/)?'<span class="math math-inline">'+e+"</span>":"<code>"+e+"</code>"},s.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">")+this.atLink(this.emoji(e))+"</"+i+">\n"},s.list=function(e,t,i){var n="";void 0!==i&&(n=' data-source-line="'+i+'"');var r=t?"ol":"ul";return"<"+r+n+">\n"+e+"</"+r+">\n"},s.listitem=function(e){return r.taskList&&/^\s*\[[x\s]\]\s*/.test(e)?(e=e.replace(/^\s*\[\s\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" /> ').replace(/^\s*\[x\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" checked disabled /> '),'<li style="list-style: none;">'+this.atLink(this.emoji(e))+"</li>"):"<li>"+this.atLink(this.emoji(e))+"</li>"},s.table=function(e,t,i){var n="";return void 0!==i&&(n=' data-source-line="'+i+'"'),"<table"+n+">\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s},t.markdownToCRenderer=function(e,t,i,n){var r="",a=0,o=this.classPrefix;n=n||1;for(var s=0,l=e.length;s<l;s++){var c=e[s].text,h=e[s].level,d=e[s].lineIdx;h<n||(h>a?(r+="",h>a+1&&(r+=new Array(h-a).join("<ul>"))):r+=h<a?new Array(a-h+2).join("</ul></li>"):"</ul></li>",r+='<li><a class="toc-level-'+h+'" href="#'+c+'" level="'+h+'" lineIdx="'+d+'">'+c+"</a><ul>",a=h)}var u=t.find(".markdown-toc");if(u.length<1&&"false"===t.attr("previewContainer")){var p='<div class="markdown-toc '+o+'markdown-toc"></div>';p=i?'<div class="'+o+'toc-menu">'+p+"</div>":p,t.html(p),u=t.find(".markdown-toc")}return i&&u.wrap('<div class="'+o+'toc-menu"></div><br/>'),u.html('<ul class="markdown-toc-list"></ul>').children(".markdown-toc-list").html(r.replace(/\r?\n?\<ul\>\<\/ul\>/g,"")),u},t.tocDropdownMenu=function(t,i){i=i||"Table of Contents";var n=400,r=t.find("."+this.classPrefix+"toc-menu");return r.each((function(){var t=e(this),r=t.children(".markdown-toc"),a='<i class="fa fa-angle-down"></i>',o='<a href="javascript:;" class="toc-menu-btn">'+a+i+"</a>",s=r.children("ul"),l=s.find("li");r.append(o),l.first().before("<li><h1>"+i+" "+a+"</h1></li>"),t.mouseover((function(){s.show(),l.each((function(){var t=e(this),i=t.children("ul");if(""===i.html()&&i.remove(),i.length>0&&""!==i.html()){var r=t.children("a").first();r.children(".fa").length<1&&r.append(e(a).css({float:"right",paddingTop:"4px"}))}t.mouseover((function(){i.css("z-index",n).show(),n+=1})).mouseleave((function(){i.hide()}))}))})).mouseleave((function(){s.hide()}))})),r},t.filterHTMLTags=function(e,t){if("string"!=typeof e&&(e=new String(e)),"string"!=typeof t)return e;for(var i=t.split("|"),n=i[0].split(","),r=(i[1],0),a=n.length;r<a;r++){var o=n[r];e=e.replace(new RegExp("<s*"+o+"s*([^>]*)>([^>]*)<s*/"+o+"s*>","igm"),"")}return e},t.markdownToHTML=function(i,n){var r={path:"",gfm:!0,toc:!0,tocm:!1,tocStartLevel:1,tocTitle:"目录",tocDropdown:!1,tocContainer:"",markdown:"",markdownSourceCode:!1,htmlDecode:"style,script,iframe|on*",autoLoadKaTeX:!1,pageBreak:!1,atLink:!1,emailLink:!0,tex:!0,taskList:!0,emoji:!1,flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0,imageLazyLoad:!1,imageLazyLoadLoadingICON:"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"},a=e("#"+i),o=a.settings=e.extend(!0,r,n||{}),s=a.find("textarea"),l=o.path;t.$marked=marked,s.length<1&&(a.append("<textarea></textarea>"),s=a.find("textarea"));var c=""===o.markdown?s.val():o.markdown,h=[],d={path:o.path,toc:o.toc,tocm:o.tocm,tocStartLevel:o.tocStartLevel,taskList:o.taskList,emoji:o.emoji,tex:o.tex,pageBreak:o.pageBreak,atLink:o.atLink,emailLink:o.emailLink,flowChart:o.flowChart,sequenceDiagram:o.sequenceDiagram,previewCodeHighlight:o.previewCodeHighlight},u={renderer:t.markedRenderer(h,d),gfm:o.gfm,tables:!0,breaks:!0,pedantic:!1,sanitize:!o.htmlDecode,smartLists:!0,smartypants:!1,imageLazyLoad:o.imageLazyLoad,imageLazyLoadLoadingICON:o.imageLazyLoadLoadingICON},p=marked(c,u);p=t.filterHTMLTags(p,o.htmlDecode),o.markdownSourceCode?s.text(c):s.remove(),a.addClass("markdown-body "+t.classPrefix+"html-preview").append(p);var f=""!==o.tocContainer?e(o.tocContainer):a;return""!==o.tocContainer&&f.attr("previewContainer",!1),o.toc&&(a.tocContainer=t.markdownToCRenderer(h,f,o.tocDropdown,o.tocStartLevel),(o.tocDropdown||a.find("."+t.classPrefix+"toc-menu").length>0)&&t.tocDropdownMenu(a,o.tocTitle),""!==o.tocContainer&&a.find(".editormd-toc-menu, .editormd-markdown-toc").remove()),o.previewCodeHighlight&&(a.find("pre").addClass("snippet prettyprint linenums"),prettyPrint(),void 0!==window.Clipboard&&window.Clipboard.render(l)),o.tex&&MathJax.typeset(),o.imageLazyLoad&&window.ScriptAction.imageLazyLoad(),a.getMarkdown=function(){return s.val()},a},t.themes=["default","dark"],t.previewThemes=["default","dark"],t.editorThemes=["default","3024-day","3024-night","abcdef","ambiance","ambiance-mobile","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","hopscotch","icecoder","isotope","lesser-dark","liquibyte","material","mbo","mdn-like","midnight","monokai","neat","neo","night","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","solarized","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","zenburn"],t.keymapModes=["default","vim","emacs","sublime"],t.loadPlugins={},t.loadFiles={js:[],css:[],plugin:[]},t.loadPlugin=function(e,i,n){i=i||function(){},this.loadScript(e,(function(){t.loadFiles.plugin.push(e),i()}),n)},t.loadCSS=function(e,i,n){n=n||"head",i=i||function(){};var r=(e+".css").replace(/[\./]+/g,"-");if(document.getElementById(r))return t.loadFiles.css.push(e),void i();var a=document.createElement("link");a.id=r,a.type="text/css",a.rel="stylesheet",a.onload=a.onreadystatechange=function(){t.loadFiles.css.push(e),i()},a.href=e+".css","head"===n?document.getElementsByTagName("head")[0].appendChild(a):document.body.appendChild(a)},t.isIE="Microsoft Internet Explorer"==navigator.appName,t.isIE8=t.isIE&&"8."==navigator.appVersion.match(/8./i),t.loadScript=function(e,i,n,r,a){if(n=n||"body",i=i||function(){},r=r||(e+".js").replace(/[\./]+/g,"-"),a=a||"text/javascript",document.getElementById(r))return t.loadFiles.js.push(e),void i();var o=null;(o=document.createElement("script")).id=r,o.type=a,o.src=e+".js",t.isIE8?o.onreadystatechange=function(){o.readyState&&("loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t.loadFiles.js.push(e),i()))}:o.onload=function(){t.loadFiles.js.push(e),i()},"head"===n?document.getElementsByTagName("head")[0].appendChild(o):document.body.appendChild(o)},t.MathJaxURL={configure:"mathjax/mathjax-configure",js:"mathjax/es5/tex-chtml-full"},t.MathJaxLoaded=!1,t.loadMathJax=function(e,i){t.loadScript(e+t.MathJaxURL.configure,(function(){t.loadScript(e+t.MathJaxURL.js,(function(){i&&i()}))}))},t.lockScreen=function(t){e("html,body").css("overflow","hidden")},t.createDialog=function(i){i=e.extend(!0,{name:"",width:420,height:240,title:"",drag:!0,closed:!0,content:"",mask:!0,maskStyle:{backgroundColor:"#fff",opacity:.1},lockScreen:!0,footer:!0,buttons:!1},i);var n=this,r=this.editor,a=t.classPrefix,o=(new Date).getTime(),s=""===i.name?a+"dialog-"+o:i.name,l=t.mouseOrTouch,c='<div class="'+a+"dialog "+s+'">';""!==i.title&&(c+='<div class="'+a+'dialog-header"'+(i.drag?' style="cursor: move;"':"")+">",c+='<strong class="'+a+'dialog-title">'+i.title+"</strong>",c+="</div>"),i.closed&&(c+='<a href="javascript:;" class="fa fa-close '+a+'dialog-close"></a>'),c+='<div class="'+a+'dialog-container">'+i.content,(i.footer||"string"==typeof i.footer)&&(c+='<div class="'+a+'dialog-footer">'+("boolean"==typeof i.footer?"":i.footer)+"</div>"),c+="</div>",c+='<div class="'+a+"dialog-mask "+a+'dialog-mask-bg"></div>',c+='<div class="'+a+"dialog-mask "+a+'dialog-mask-con"></div>',c+="</div>",r.append(c);var h=r.find("."+s);h.lockScreen=function(t){return i.lockScreen&&(e("html,body").css("overflow","hidden"),n.resize()),h},h.showMask=function(){return i.mask&&r.find("."+a+"mask").css(i.maskStyle).css("z-index",t.dialogZindex-1).show(),h},h.hideMask=function(){return i.mask&&r.find("."+a+"mask").hide(),h},h.loading=function(e){return h.find("."+a+"dialog-mask")[e?"show":"hide"](),h},h.lockScreen(!0).showMask(),h.show().css({zIndex:t.dialogZindex,border:t.isIE8?"1px solid #ddd":"",width:"number"==typeof i.width?i.width+"px":i.width,height:"number"==typeof i.height?i.height+"px":i.height});var d=function(){h.css({top:(e(window).height()-h.height())/2+"px",left:(e(window).width()-h.width())/2+"px"})};if(d(),e(window).resize(d),h.children("."+a+"dialog-close").bind(l("click","touchend"),(function(){h.hide().lockScreen(!1).hideMask()})),"object"==typeof i.buttons){var u=h.footer=h.find("."+a+"dialog-footer");for(var p in i.buttons){var f=i.buttons[p],g=a+p+"-btn";u.append('<button class="'+a+"btn "+g+'">'+f[0]+"</button>"),f[1]=e.proxy(f[1],h),u.children("."+g).bind(l("click","touchend"),f[1])}}if(""!==i.title&&i.drag){var m,A,v=h.children("."+a+"dialog-header");i.mask||v.bind(l("click","touchend"),(function(){t.dialogZindex+=2,h.css("z-index",t.dialogZindex)})),v.mousedown((function(e){e=e||window.event,m=e.clientX-parseInt(h[0].style.left),A=e.clientY-parseInt(h[0].style.top),document.onmousemove=k}));var w=function(e){e.removeClass(a+"user-unselect").off("selectstart")},b=function(e){e.addClass(a+"user-unselect").on("selectstart",(function(e){return!1}))},k=function(t){t=t||window.event;var i,n,r=parseInt(h[0].style.left),a=parseInt(h[0].style.top);r>=0?r+h.width()<=e(window).width()?i=t.clientX-m:(i=e(window).width()-h.width(),document.onmousemove=null):(i=0,document.onmousemove=null),a>=0?n=t.clientY-A:(n=0,document.onmousemove=null),document.onselectstart=function(){return!1},b(e("body")),b(h),h[0].style.left=i+"px",h[0].style.top=n+"px"};document.onmouseup=function(){w(e("body")),w(h),document.onselectstart=null,document.onmousemove=null},v.touchDraggable=function(){var t=null;this.bind("touchstart",(function(i){var n=i.originalEvent,r=e(this).parent().position();t={x:n.changedTouches[0].pageX-r.left,y:n.changedTouches[0].pageY-r.top}})).bind("touchmove",(function(i){i.preventDefault();var n=i.originalEvent;e(this).parent().css({top:n.changedTouches[0].pageY-t.y,left:n.changedTouches[0].pageX-t.x})}))},v.touchDraggable()}return t.dialogZindex+=2,h},t.mouseOrTouch=function(e,t){t=t||"touchend";var i=e=e||"click";try{document.createEvent("TouchEvent"),i=t}catch(e){}try{document.createEvent("MouseEvent"),i=e}catch(e){}return i},t.dateFormat=function(e){e=e||"";var t=function(e){return e<10?"0"+e:e},i=new Date,n=i.getFullYear(),r=n.toString().slice(2,4),a=t(i.getMonth()+1),o=t(i.getDate()),s=i.getDay(),l=t(i.getHours()),c=t(i.getMinutes()),h=t(i.getSeconds()),d=t(i.getMilliseconds()),u="",p=r+"-"+a+"-"+o,f=n+"-"+a+"-"+o,g=l+":"+c+":"+h;switch(e){case"UNIX Time":u=i.getTime();break;case"UTC":u=i.toUTCString();break;case"yy":u=r;break;case"year":case"yyyy":u=n;break;case"month":case"mm":u=a;break;case"cn-week-day":case"cn-wd":u="星期"+["日","一","二","三","四","五","六"][s];break;case"week-day":case"wd":u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][s];break;case"day":case"dd":u=o;break;case"hour":case"hh":u=l;break;case"min":case"ii":u=c;break;case"second":case"ss":u=h;break;case"ms":u=d;break;case"yy-mm-dd":u=p;break;case"yyyy-mm-dd":u=f;break;case"yyyy-mm-dd h:i:s ms":case"full + ms":u=f+" "+g+" "+d;break;case"full":case"yyyy-mm-dd h:i:s":default:u=f+" "+g}return u},t}}));